/*! For license information please see main.c9b85912.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return e.apply(void 0,[n,r,s,a,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case S:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,xe=null;function Se(e){if(e=ki(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Ce(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Ee||null!==xe)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,Et,xt,St,Ct=!1,Tt=[],It=null,Nt=null,Rt=null,Pt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),At.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==Rt&&zt(Rt,e),Pt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&_t(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),hn=F({},ln,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},hn,{relatedTarget:0})),mn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return xn}var Cn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Yn(e){if(G(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},xr={};function Sr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Er[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Rr.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Cr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=_e(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=mn;break;case Nr:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ae(p,f))&&c.push(Wr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==h&&Qr(o,h,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Hn(s))if(Xn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ae(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,yi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[di]||null}var wi=[],Ei=-1;function xi(e){return{current:e}}function Si(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ci(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ti={},Ii=xi(Ti),Ni=xi(!1),Ri=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ii),Ci(Ii,e)):Si(Ni),Ci(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Hi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=xi(null),Ki=null,Gi=null,Qi=null;function Yi(){Qi=Gi=Ki=null}function $i(e){var t=Wi.current;Si(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Ki=e,Qi=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===Ki)throw Error(a(308));Gi=e,Ki.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tl(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,c=l=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ou|=o,e.lanes=o,e.memoizedState=h}}function la(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ca=(new r.Component).refs;function ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xu(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Ai(t)?Ri:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ca,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Ai(t)?Ri:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ma=[],ga=0,ka=null,ba=0,_a=[],wa=0,Ea=null,xa=1,Sa="";function Ca(e,t){ma[ga++]=ba,ma[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){_a[wa++]=xa,_a[wa++]=Sa,_a[wa++]=Ea,Ea=e;var r=xa;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xa=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else xa=1<<a|n<<i|r,Sa=e}function Ia(e){null!==e.return&&(Ca(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ma[--ga],ma[ga]=null,ba=ma[--ga],ma[ga]=null;for(;e===Ea;)Ea=_a[--wa],_a[wa]=null,Sa=_a[--wa],_a[wa]=null,xa=_a[--wa],_a[wa]=null}var Ra=null,Pa=null,Aa=!1,Oa=null;function Da(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ra=e,Pa=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ra=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ea?{id:xa,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ra=e,Pa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Aa){var t=Pa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=li(n.nextSibling);var r=Ra;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ra=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ra=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Ua(e){if(e!==Ra)return!1;if(!Aa)return ja(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(Ma(e)){for(e=Pa;e;)e=li(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=li(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Ra?li(e.stateNode.nextSibling):null;return!0}function Va(){Pa=Ra=null,Aa=!1}function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ca&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Al(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ml(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ml(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case w:return(t=Fl(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dl(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,h=y}if(v===s.length)return n(i,h),Aa&&Ca(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return Aa&&Ca(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(y=p(h,i,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(i,e)})),Aa&&Ca(i,v),l}function y(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,y),null===h?c=k:h.sibling=k,h=k,v=m}if(g.done)return n(i,v),Aa&&Ca(i,y),c;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=f(i,g.value,l))&&(s=o(g,s,y),null===h?c=g:h.sibling=g,h=g);return Aa&&Ca(i,y),c}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===h?c=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&Ca(i,y),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Ha(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ba(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Dl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ol(o.type,o.key,o.props,null,r.mode,u)).ref=Ba(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ml(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ka=Wa(!0),Ga=Wa(!1),Qa={},Ya=xi(Qa),$a=xi(Qa),Xa=xi(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ci(Xa,t),Ci($a,e),Ci(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ya),Ci(Ya,t)}function eo(){Si(Ya),Si($a),Si(Xa)}function to(e){Ja(Xa.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(Ci($a,e),Ci(Ya,n))}function no(e){$a.current===e&&(Si(Ya),Si($a))}var ro=xi(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,lo=0,co=null,ho=null,fo=null,po=!1,vo=!1,yo=0,mo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,yo=0,25<=o)throw Error(a(301));o+=1,fo=ho=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==ho&&null!==ho.next,lo=0,fo=ho=co=null,po=!1,t)throw Error(a(300));return e}function _o(){var e=0!==yo;return yo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fo?co.memoizedState=fo=e:fo=fo.next=e,fo}function Eo(){if(null===ho){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=ho.next;var t=null===fo?co.memoizedState:fo.next;if(null!==t)fo=t,ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ho=e).memoizedState,baseState:ho.baseState,baseQueue:ho.baseQueue,queue:ho.queue,next:null},null===fo?co.memoizedState=fo=e:fo=fo.next=e}return fo}function xo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var h=c.lane;if((lo&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,co.lanes|=h,Ou|=h}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Ou|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(_s=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=co,r=Eo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,_s=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==fo&&1&fo.memoizedState.tag){if(n.flags|=2048,Do(9,Ro.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&lo)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Zu(e,1,-1)}function Po(e,t,n){return n((function(){Ao(t)&&Zu(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,co,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return Eo().memoizedState}function Mo(e,t,n,r){var i=wo();co.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==ho){var o=ho.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}co.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function jo(e,t){return Mo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Ho(){}function Wo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),co.lanes|=n,Ou|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{kt=n,uo.transition=r}}function Yo(){return Eo().memoizedState}function $o(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r))}function Xo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===co||null!==t&&t===co}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tl(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Oo,useDebugValue:Ho,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Qo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=wo();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&lo)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Cu.identifierPrefix;if(Aa){var n=Sa;t=":"+t+"R"+(n=(xa&~(1<<32-ot(xa)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Ko,useReducer:So,useRef:Lo,useState:function(){return So(xo)},useDebugValue:Ho,useDeferredValue:function(e){return Go(Eo(),ho.memoizedState,e)},useTransition:function(){return[So(xo)[0],Eo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Yo,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Ko,useReducer:Co,useRef:Lo,useState:function(){return Co(xo)},useDebugValue:Ho,useDeferredValue:function(e){var t=Eo();return null===ho?t.memoizedState=e:Go(t,ho.memoizedState,e)},useTransition:function(){return[Co(xo)[0],Eo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Yo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,ls,cs,hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Bu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ms(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ks(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ai(t.type)&&Oi(),gs(t),null;case 3:return r=t.stateNode,eo(),Si(Ni),Si(Ii),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(al(Oa),Oa=null))),gs(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja(Ya.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&k(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)cs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Ya.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Ra))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return gs(t),null;case 13:if(Si(ro),r=t.memoizedState,Aa&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=li(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Oa&&(al(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Pu&&(Pu=3):pl())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gs(t),null;case 10:return $i(t.type._context),gs(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ms(o,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ms(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Uu&&(t.flags|=128,r=!0,ms(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ms(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Aa)return gs(t),null}else 2*Xe()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,ms(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ci(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return cl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},cs=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Ga(t,null,n,r):Ka(t,e.child,n,r)}function Es(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=_o(),null===e||_s?(Aa&&n&&Ia(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Al(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ru,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ru,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Ru,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Ru,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ai(n)?Ri:Ii.current;return a=Pi(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=_o(),null===e||_s?(Aa&&r&&Ia(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ns(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Zi(l):l=Pi(t,l=Ai(n)?Ri:Ii.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&va(t,o,r,l),ta=!1;var f=t.memoizedState;o.state=f,ua(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ni.current||ta?("function"===typeof c&&(ha(t,n,c,r),u=t.memoizedState),(s=ta||da(t,n,s,r,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Hi(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Pi(t,u=Ai(n)?Ri:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&va(t,o,r,u),ta=!1,f=t.memoizedState,o.state=f,ua(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||ta?("function"===typeof d&&(ha(t,n,d,r),p=t.memoizedState),(l=ta||da(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function As(e,t,n,r,i){return Va(),za(i),t.flags|=256,ws(e,t,n,r),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ms(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ll(o,i,0,null),e=Dl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Os,e):Fs(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ll({mode:"visible",children:i.children},o,0,null),(s=Dl(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=Os,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),_s||i){if(null!==(i=Cu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pl(),t=Vs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=li(r.nextSibling),Ra=t,Aa=!0,Oa=null,null!==n&&(_a[wa++]=xa,_a[wa++]=Sa,_a[wa++]=Ea,xa=n.id,Sa=n.overflow,Ea=t),(t=Fs(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):Ls(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Os,i):(n=js(e,t,i.children,n),t.memoizedState=null,n)}function Fs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){var i=e.child;return e=i.sibling,n=Al(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Us(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Al(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Al(o,r):(r=Dl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&za(r),Ka(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ou|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Al(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Al(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){switch(Na(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ni),Si(Ii),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return cl(),null;default:return null}}var Ks=!1,Gs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){El(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xs(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function lu(e,t,n){for(n=n.child;null!==n;)cu(e,t,n),n=n.sibling}function cu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Gs||$s(n,t);case 6:var r=su,i=uu;su=null,lu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,lu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xs(n,t,o),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Gs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,lu(e,t,n),Gs=r):lu(e,t,n);break;default:lu(e,t,n)}}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));cu(o,s,i),su=null,uu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){El(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:fu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(fu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var c=ke(u,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ye(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):k(i,h,f,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){El(e,e.return,v)}}break;case 6:if(fu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(v){El(e,e.return,v)}}break;case 3:if(fu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:fu(t,e),pu(e);break;case 13:fu(t,e),pu(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(ju=Xe()),4&r&&hu(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(h=Gs)||c,fu(t,e),Gs=h):fu(t,e),pu(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(v){El(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!c&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(c=Ys=e;null!==Ys;){switch(f=(h=Ys).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:if($s(h,h.return),"function"===typeof(o=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){El(d,p,v)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){gu(c);continue}}null!==f?(f.return=h,Ys=f):gu(c)}e=e.sibling}}break;case 19:fu(t,e),pu(e),4&r&&hu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,yu(e,t,n)}function yu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ks;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Gs;s=Ks;var l=Gs;if(Ks=o,(Gs=u)&&!l)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,Ys=u):ku(i);for(;null!==a;)Ys=a,yu(a,t,n),a=a.sibling;Ys=i,Ks=s,Gs=l}mu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):mu(e)}}function mu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&la(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}la(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&tu(t)}catch(d){El(t,t.return,d)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function gu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function ku(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var a=t.return;try{tu(t)}catch(u){El(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bu,_u=Math.ceil,wu=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,xu=b.ReactCurrentBatchConfig,Su=0,Cu=null,Tu=null,Iu=0,Nu=0,Ru=xi(0),Pu=0,Au=null,Ou=0,Du=0,Lu=0,Mu=null,Fu=null,ju=0,Uu=1/0,Vu=null,zu=!1,Bu=null,qu=null,Hu=!1,Wu=null,Ku=0,Gu=0,Qu=null,Yu=-1,$u=0;function Xu(){return 0!==(6&Su)?Xe():-1!==Yu?Yu:Yu=Xe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Su)&&0!==Iu?Iu&-Iu:null!==qi.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Zu(e,t,n){if(50<Gu)throw Gu=0,Qu=null,Error(a(185));var r=el(e,t);return null===r?null:(mt(r,t,n),0!==(2&Su)&&r===Cu||(r===Cu&&(0===(2&Su)&&(Du|=t),4===Pu&&ol(r,Iu)),nl(r,n),1===t&&0===Su&&0===(1&e.mode)&&(Uu=Xe()+500,Ui&&Bi())),r)}function el(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tl(e){return(null!==Cu||null!==ea)&&0!==(1&e.mode)&&0===(2&Su)}function nl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Cu?Iu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sl.bind(null,e)):zi(sl.bind(null,e)),oi((function(){0===Su&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,rl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rl(e,t){if(Yu=-1,$u=0,0!==(6&Su))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ft(e,e===Cu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Su;Su|=2;var o=dl();for(Cu===e&&Iu===t||(Vu=null,Uu=Xe()+500,hl(e,t));;)try{ml();break}catch(u){fl(e,u)}Yi(),wu.current=o,Su=i,null!==Tu?t=0:(Cu=null,Iu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=il(e,i))),1===t)throw n=Au,hl(e,0),ol(e,r),nl(e,Xe()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t))throw n=Au,hl(e,0),ol(e,r),nl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bl(e,Fu,Vu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=ju+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bl.bind(null,e,Fu,Vu),t);break}bl(e,Fu,Vu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(bl.bind(null,e,Fu,Vu),r);break}bl(e,Fu,Vu);break;default:throw Error(a(329))}}}return nl(e,Xe()),e.callbackNode===n?rl.bind(null,e):null}function il(e,t){var n=Mu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Fu,Fu=n,null!==t&&al(t)),e}function al(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function ol(e,t){for(t&=~Lu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Su))throw Error(a(327));_l();var t=ft(e,0);if(0===(1&t))return nl(e,Xe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Au,hl(e,0),ol(e,t),nl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Fu,Vu),nl(e,Xe()),null}function ul(e,t){var n=Su;Su|=1;try{return e(t)}finally{0===(Su=n)&&(Uu=Xe()+500,Ui&&Bi())}}function ll(e){null!==Wu&&0===Wu.tag&&0===(6&Su)&&_l();var t=Su;Su|=1;var n=xu.transition,r=kt;try{if(xu.transition=null,kt=1,e)return e()}finally{kt=r,xu.transition=n,0===(6&(Su=t))&&Bi()}}function cl(){Nu=Ru.current,Si(Ru)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Si(Ni),Si(Ii),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:$i(r.type._context);break;case 22:case 23:cl()}n=n.return}if(Cu=e,Tu=e=Al(e.current,null),Iu=Nu=t,Pu=0,Au=null,Lu=Du=Ou=0,Fu=Mu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function fl(e,t){for(;;){var n=Tu;try{if(Yi(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,fo=ho=co=null,vo=!1,yo=0,Eu.current=null,null===n||null===n.return){Pu=1,Au=t,Tu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ps(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){ps(o,c,t),pl();break e}l=Error(a(426))}else if(Aa&&1&u.mode){var m=vs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),za(l);break e}}o=l,4!==Pu&&(Pu=2),null===Mu?Mu=[o]:Mu.push(o),l=os(l,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,fs(0,l,t));break e;case 1:o=l;var g=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qu||!qu.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}kl(n)}catch(b){t=b,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function dl(){var e=wu.current;return wu.current=ns,null===e?ns:e}function pl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Cu||0===(268435455&Ou)&&0===(268435455&Du)||ol(Cu,Iu)}function vl(e,t){var n=Su;Su|=2;var r=dl();for(Cu===e&&Iu===t||(Vu=null,hl(e,t));;)try{yl();break}catch(i){fl(e,i)}if(Yi(),Su=n,wu.current=r,null!==Tu)throw Error(a(261));return Cu=null,Iu=0,Pu}function yl(){for(;null!==Tu;)gl(Tu)}function ml(){for(;null!==Tu&&!Ye();)gl(Tu)}function gl(e){var t=bu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kl(e):Tu=t,Eu.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ks(n,t,Nu)))return void(Tu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Pu=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Pu&&(Pu=5)}function bl(e,t,n){var r=kt,i=xu.transition;try{xu.transition=null,kt=1,function(e,t,n,r){do{_l()}while(null!==Wu);if(0!==(6&Su))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Tu=Cu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Il(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var s=kt;kt=1;var u=Su;Su|=4,Eu.current=null,function(e,t){if(ei=Ht,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Hi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var _=b.body;null!=_&&(_.textContent="")}break;default:throw Error(a(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vu(n,e,i),$e(),Su=u,kt=s,xu.transition=o}else e.current=n;if(Hu&&(Hu=!1,Wu=e,Ku=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zu)throw zu=!1,e=Bu,Bu=null,e;0!==(1&Ku)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Qu?Gu++:(Gu=0,Qu=e):Gu=0,Bi()}(e,t,n,r)}finally{xu.transition=i,kt=r}return null}function _l(){if(null!==Wu){var e=bt(Ku),t=xu.transition,n=kt;try{if(xu.transition=null,kt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Ku=0,0!==(6&Su))throw Error(a(331));var i=Su;for(Su|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ys=c;null!==Ys;){var h=Ys;switch(h.tag){case 0:case 11:case 15:Zs(8,h,o)}var f=h.child;if(null!==f)f.return=h,Ys=f;else for(;null!==Ys;){var d=(h=Ys).sibling,p=h.return;if(nu(h),h===c){Ys=null;break}if(null!==d){d.return=p,Ys=d;break}Ys=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ys=g;break e}Ys=o.return}}var k=e.current;for(Ys=k;null!==Ys;){var b=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ys=b;else e:for(s=k;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(w){El(u,u.return,w)}if(u===s){Ys=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Ys=_;break e}Ys=u.return}}if(Su=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{kt=n,xu.transition=t}}return!1}function wl(e,t,n){aa(e,t=fs(0,t=os(n,t),1)),t=Xu(),null!==(e=el(e,1))&&(mt(e,1,t),nl(e,t))}function El(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=Xu(),null!==(t=el(t,1))&&(mt(t,1,e),nl(t,e));break}}t=t.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xu(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Iu&n)===n&&(4===Pu||3===Pu&&(130023424&Iu)===Iu&&500>Xe()-ju?hl(e,0):Lu|=n),nl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=Xu();null!==(e=el(e,t))&&(mt(e,t,n),nl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sl(e,n)}function Il(e,t){return Ge(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Nl(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Dl(n.children,i,o,t);case x:s=8,i|=8;break;case S:return(e=Rl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Rl(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ml(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zl(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Li(e,n,t)}return t}function Bl(e,t,n,r,i,a,o,s,u){return(e=Ul(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=ia(r=Xu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,mt(e,i,r),nl(e,r),e}function ql(e,t,n,r){var i=t.current,a=Xu(),o=Ju(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),Va();break;case 5:to(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ci(ro,1&ro.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ci(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,Aa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ii.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ia(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=Hi(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Es(null,t,r,e,n);break e;case 14:t=xs(null,t,r,Hi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=As(e,t,r,n,i=Error(a(424)));break e}for(Pa=li(t.stateNode.containerInfo.firstChild),Ra=t,Aa=!0,Oa=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Ms(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:Hi(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(Wi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ia(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Xi(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Xi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=Hi(r=t.type,t.pendingProps),xs(e,t,r,i=Hi(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ya(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Gl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function Zl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hl(o);s.call(e)}}ql(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=Bl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),ll(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hl(u);s.call(e)}}var u=Ul(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),ll((function(){ql(t,u,n,r)})),u}(n,t,e,i,r);return Hl(o)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ql(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ll((function(){ql(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),nl(t,Xe()),0===(6&Su)&&(Uu=Xe()+500,Bi()))}break;case 13:var r=Xu();ll((function(){return Zu(e,1,r)})),Kl(e,1)}},wt=function(e){13===e.tag&&(Zu(e,134217728,Xu()),Kl(e,134217728))},Et=function(e){if(13===e.tag){var t=Xu(),n=Ju(e);Zu(e,n,t),Kl(e,n)}},xt=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ul,Ne=ll;var ec={usingClientEntryPoint:!1,Events:[ki,bi,_i,Ce,Te,ul]},tc={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(a(299));var n=!1,r="",i=Gl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ll(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(ll((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(y=!1,b(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&D(_,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&D(_,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,S=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function R(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(x=!1,S=null)}}else x=!1}if("function"===typeof k)E=function(){k(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,E=function(){A.postMessage(null)}}else E=function(){m(R,0)};function O(e){S=e,x||(x=!0,E())}function D(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(C),C=-1):y=!0,D(_,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".0ba8055c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="code-base:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/code-base/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcode_base=self.webpackChunkcode_base||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var l="beforeunload",c="popstate";function h(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=y(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,s=e.hash,l=void 0===s?"":s,c=i.state||{};return[c.idx,u({pathname:n,search:o,hash:l,state:c.usr||null,key:c.key||"default"})]}var o=null;function h(){if(o)w.call(o),o=null;else{var t=e.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=k-r;s&&(o={action:t,location:i,retry:function(){I(-1*s)}},I(s))}}else T(t)}}r.addEventListener(c,h),r.addEventListener("hashchange",(function(){v(a()[1])!==v(b)&&h()}));var m=e.Pop,g=a(),k=g[0],b=g[1],_=d(),w=d();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:v(e))}function x(e,t){return void 0===t&&(t=null),u(s({pathname:b.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:p()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function C(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function T(e){m=e;var t=a();k=t[0],b=t[1],_.call({action:m,location:b})}function I(e){i.go(e)}null==k&&(k=0,i.replaceState(s({},i.state,{idx:k}),""));var N={get action(){return m},get location(){return b},createHref:E,push:function t(n,a){var o=e.Push,s=x(n,a);if(C(o,s,(function(){t(n,a)}))){var u=S(s,k+1),l=u[0],c=u[1];try{i.pushState(l,"",c)}catch(yc){r.location.assign(c)}T(o)}},replace:function t(n,r){var a=e.Replace,o=x(n,r);if(C(a,o,(function(){t(n,r)}))){var s=S(o,k),u=s[0],l=s[1];i.replaceState(u,"",l),T(a)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return _.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(l,f),function(){t(),w.length||r.removeEventListener(l,f)}}};return N}function f(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function p(){return Math.random().toString(36).substr(2,8)}function v(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,t.createContext)(null);var g=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=N(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),w(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:s})})),t}var E=/^:\w+$/,x=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(E.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=T({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:R([i,c.pathname]),pathnameBase:P(R([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return a}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],l=u.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(yc){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function I(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:A(a),hash:O(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},A=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function D(e){L()||b(!1);var n=(0,t.useContext)(m),r=n.basename,i=n.navigator,a=j(e),o=a.hash,s=a.pathname,u=a.search,l=s;if("/"!==r){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),h=null!=c&&c.endsWith("/");l="/"===s?r+(h?"/":""):R([r,s])}return i.createHref({pathname:l,search:u,hash:o})}function L(){return null!=(0,t.useContext)(g)}function M(){return L()||b(!1),(0,t.useContext)(g).location}function F(){L()||b(!1);var e=(0,t.useContext)(m),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=M().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=I(e,JSON.parse(o),a);"/"!==n&&(i.pathname=R([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function j(e){var n=(0,t.useContext)(k).matches,r=M().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return I(e,JSON.parse(i),r)}),[e,i,r])}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function V(e){b(!1)}function z(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,h=n.static,f=void 0!==h&&h;L()&&b(!1);var d=P(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=y(s));var v=s,k=v.pathname,_=void 0===k?"/":k,w=v.search,E=void 0===w?"":w,x=v.hash,S=void 0===x?"":x,C=v.state,T=void 0===C?null:C,I=v.key,R=void 0===I?"default":I,A=(0,t.useMemo)((function(){var e=N(_,d);return null==e?null:{pathname:e,search:E,hash:S,state:T,key:R}}),[d,_,E,S,T,R]);return null==A?null:(0,t.createElement)(m.Provider,{value:p},(0,t.createElement)(g.Provider,{children:o,value:{location:A,navigationType:l}}))}function B(e){var n=e.children,r=e.location;return function(e,n){L()||b(!1);var r,i=(0,t.useContext)(k).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,M());if(n){var l,c="string"===typeof n?y(n):n;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||b(!1),r=c}else r=u;var h=r.pathname||"/",f=_(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return U(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(q(n),r)}function q(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==V&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=q(e.props.children)),n.push(r)}else n.push.apply(n,q(e.props.children))})),n}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function G(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=h({window:i}));var s=a.current,u=o((0,t.useState)({action:s.action,location:s.location}),2),l=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,t.createElement)(z,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Q=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,l=e.to,c=W(e,K),h=D(l),f=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=F(),u=M(),l=j(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||v(u)===v(l);s(e,{replace:n,state:o})}}),[u,s,l,a,o,i,e])}(l,{replace:o,state:s,target:u});return(0,t.createElement)("a",H({},c,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Z(e,t){if(null==e)return{};var n,r,i=J(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ee=n(694),te=n.n(ee),ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},re=t.createContext(null);n(176);function ie(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ae(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function oe(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[ie(i)],l=o[i],c=J(o,[ie(i),i].map(ae)),h=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,l=i.current;return i.current=u,!u&&l&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(l,u,e[h]),d=f[0],p=f[1];return s({},c,((a={})[i]=d,a[h]=p,a))}),e)}function se(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ue(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function le(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}se.__suppressDeprecationWarning=!0,ue.__suppressDeprecationWarning=!0,le.__suppressDeprecationWarning=!0;var ce=/-(.)/g;var he=n(184),fe=["xxl","xl","lg","md","sm","xs"],de=t.createContext({prefixes:{},breakpoints:fe});de.Consumer,de.Provider;function pe(e,n){var r=(0,t.useContext)(de).prefixes;return e||r[n]||n}var ve=["className","bsPrefix","as"],ye=function(e){return e[0].toUpperCase()+(t=e,t.replace(ce,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function me(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?ye(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=Z(t,ve),l=pe(i,e);return(0,he.jsx)(s,X({ref:n,className:te()(r,l)},u))}));return s.defaultProps=o,s.displayName=i,s}var ge=["bsPrefix","className","as"],ke=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=Z(e,ge);n=pe(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,he.jsx)(o,X(X({},a),{},{ref:t,className:te()(r,n)}))}));ke.displayName="NavbarBrand";var be=ke;function _e(e){return e&&e.ownerDocument||document}function we(e,t){return function(e){var t=_e(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ee=/([A-Z])/g;var xe=/^ms-/;function Se(e){return function(e){return e.replace(Ee,"-$1").toLowerCase()}(e).replace(xe,"-ms-")}var Ce=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Te=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Se(t))||we(e).getPropertyValue(Se(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ce.test(e))}(i)?n+=Se(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Se(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Ie(e,t){return Ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ie(e,t)}var Ne=n(164),Re=!1,Pe=t.createContext(null),Ae="unmounted",Oe="exited",De="entering",Le="entered",Me="exiting",Fe=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Oe,r.appearStatus=De):i=Le:i=t.unmountOnExit||t.mountOnEnter?Ae:Oe,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ie(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ae?{status:Oe}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==De&&n!==Le&&(t=De):n!==De&&n!==Le||(t=Me)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===De?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Oe&&this.setState({status:Ae})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ne.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Re?this.safeSetState({status:Le},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:De},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Le},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ne.findDOMNode(this);t&&!Re?(this.props.onExit(r),this.safeSetState({status:Me},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Oe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Oe},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===Ae)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,J(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Pe.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function je(){}Fe.contextType=Pe,Fe.propTypes={},Fe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:je,onEntering:je,onEntered:je,onExit:je,onExiting:je,onExited:je},Fe.UNMOUNTED=Ae,Fe.EXITED=Oe,Fe.ENTERING=De,Fe.ENTERED=Le,Fe.EXITING=Me;var Ue=Fe,Ve=!("undefined"===typeof window||!window.document||!window.document.createElement),ze=!1,Be=!1;try{var qe={get passive(){return ze=!0},get once(){return Be=ze=!0}};Ve&&(window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,!0))}catch(mT){}var He=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Be){var i=r.once,a=r.capture,o=n;!Be&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ze?r:a)}e.addEventListener(t,n,r)};var We=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ke=function(e,t,n,r){return He(e,t,n,r),function(){We(e,t,n,r)}};function Ge(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ke(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Qe(e,t,n,r){null==n&&(n=function(e){var t=Te(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ge(e,n,r),a=Ke(e,"transitionend",t);return function(){i(),a()}}function Ye(e,t){var n=Te(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function $e(e,t){var n=Ye(e,"transitionDuration"),r=Ye(e,"transitionDelay"),i=Qe(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Xe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Je(e){e.offsetHeight}var Ze=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var et=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Ze(e),r=Ze(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var tt,nt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],rt=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,l=e.addEndListener,c=e.children,h=e.childRef,f=Z(e,nt),d=(0,t.useRef)(null),p=et(d,h),v=function(e){var t;p((t=e)&&"setState"in t?Ne.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&d.current&&e(d.current,t)}},m=(0,t.useCallback)(y(r),[r]),g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),_=(0,t.useCallback)(y(s),[s]),w=(0,t.useCallback)(y(u),[u]),E=(0,t.useCallback)(y(l),[l]);return(0,he.jsx)(Ue,X(X({ref:n},f),{},{onEnter:m,onEntered:k,onEntering:g,onExit:b,onExited:w,onExiting:_,addEndListener:E,nodeRef:d,children:"function"===typeof c?function(e,t){return c(e,X(X({},t),{},{ref:v}))}:t.cloneElement(c,{ref:v})}))})),it=rt,at=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],ot={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function st(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=ot[e];return n+parseInt(Te(t,r[0]),10)+parseInt(Te(t,r[1]),10)}var ut=(Y(tt={},Oe,"collapse"),Y(tt,Me,"collapsing"),Y(tt,De,"collapsing"),Y(tt,Le,"collapse show"),tt),lt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:st},ct=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,l=e.children,c=e.dimension,h=void 0===c?"height":c,f=e.getDimensionValue,d=void 0===f?st:f,p=Z(e,at),v="function"===typeof h?h():h,y=(0,t.useMemo)((function(){return Xe((function(e){e.style[v]="0"}),r)}),[v,r]),m=(0,t.useMemo)((function(){return Xe((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return Xe((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,t.useMemo)((function(){return Xe((function(e){e.style[v]="".concat(d(v,e),"px"),Je(e)}),o)}),[o,d,v]),b=(0,t.useMemo)((function(){return Xe((function(e){e.style[v]=null}),s)}),[v,s]);return(0,he.jsx)(it,X(X({ref:n,addEndListener:$e},p),{},{"aria-expanded":p.role?p.in:null,onEnter:y,onEntering:m,onEntered:g,onExit:k,onExiting:b,childRef:l.ref,children:function(e,n){return t.cloneElement(l,X(X({},n),{},{className:te()(u,l.props.className,ut[e],"width"===v&&"collapse-horizontal")}))}}))}));ct.defaultProps=lt;var ht=ct,ft=t.createContext(null);ft.displayName="NavbarContext";var dt=ft,pt=["children","bsPrefix"],vt=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=Z(e,pt);i=pe(i,"navbar-collapse");var o=(0,t.useContext)(dt);return(0,he.jsx)(ht,X(X({in:!(!o||!o.expanded)},a),{},{children:(0,he.jsx)("div",{ref:n,className:i,children:r})}))}));vt.displayName="NavbarCollapse";var yt=vt;var mt=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function gt(e){var n=mt(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var kt=["bsPrefix","className","children","label","as","onClick"],bt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,l=e.onClick,c=Z(e,kt);r=pe(r,"navbar-toggler");var h=(0,t.useContext)(dt)||{},f=h.onToggle,d=h.expanded,p=gt((function(e){l&&l(e),f&&f()}));return"button"===u&&(c.type="button"),(0,he.jsx)(u,X(X({},c),{},{ref:n,onClick:p,"aria-label":o,className:te()(i,r,!d&&"collapsed"),children:a||(0,he.jsx)("span",{className:"".concat(r,"-icon")})}))}));bt.displayName="NavbarToggle",bt.defaultProps={label:"Toggle navigation"};var _t=bt,wt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Et="undefined"!==typeof document||wt?t.useLayoutEffect:t.useEffect,xt=new WeakMap,St=function(e,t){if(e&&t){var n=xt.get(t)||new Map;xt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function Ct(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=St(e,n),i=(0,t.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return Et((function(){var t=St(e,n);if(!t)return o(!1);var r=xt.get(n),i=function(){o(t.matches)};return t.refCount++,t.addListener(i),i(),function(){t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),a}var Tt=function(e){var n=Object.keys(e);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(t){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var s,u;"object"===typeof n?(s=n,o=a,a=!0):((u={})[n]=a=a||!0,s=u);var l=(0,t.useMemo)((function(){return Object.entries(s).reduce((function(t,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(t=r(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=r(t,i(a))),t}),"")}),[JSON.stringify(s)]);return Ct(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),It=Tt;function Nt(e){void 0===e&&(e=_e());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(mT){return e.body}}function Rt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Pt(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function At(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e){return"".concat("data-rr-ui-").concat(e)}var Ft=Mt("modal-open"),jt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ot(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Lt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Y({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Te(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Ft,""),Te(r,t)}},{key:"reset",value:function(){var e=this;At(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(Ft),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ut=jt,Vt=(0,t.createContext)(Ve?window:void 0);Vt.Provider;function zt(){return(0,t.useContext)(Vt)}var Bt=function(e,t){var n;return Ve?null==e?(t||_e()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var qt,Ht=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Wt(e){var n=zt(),r=e||function(e){return qt||(qt=new Ut({ownerDocument:null==e?void 0:e.document})),qt}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var Kt=(0,t.forwardRef)((function(e,n){var r=e.show,i=void 0!==r&&r,a=e.role,s=void 0===a?"dialog":a,u=e.className,l=e.style,c=e.children,h=e.backdrop,f=void 0===h||h,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,y=e.onEscapeKeyDown,m=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,_=e.enforceFocus,w=void 0===_||_,E=e.restoreFocus,x=void 0===E||E,S=e.restoreFocusOptions,C=e.renderDialog,T=e.renderBackdrop,I=void 0===T?function(e){return(0,he.jsx)("div",Object.assign({},e))}:T,N=e.manager,R=e.container,P=e.onShow,A=e.onHide,O=void 0===A?function(){}:A,D=e.onExit,L=e.onExited,M=e.onExiting,F=e.onEnter,j=e.onEntering,U=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ht),z=function(e,n){var r=zt(),i=o((0,t.useState)((function(){return Bt(e,null==r?void 0:r.document)})),2),a=i[0],s=i[1];if(!a){var u=Bt(e);u&&s(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=Bt(e);t!==a&&s(t)}),[e,a]),a}(R),B=Wt(N),q=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),H=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),W=o((0,t.useState)(!i),2),K=W[0],G=W[1],Q=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return B}),[B]),Ve&&!H&&i&&(Q.current=Nt()),m||i||K?i&&K&&G(!1):G(!0);var Y=gt((function(){if(B.add(),te.current=Ke(document,"keydown",Z),ee.current=Ke(document,"focus",(function(){return setTimeout(X)}),!0),P&&P(),b){var e=Nt(document);B.dialog&&e&&!Rt(B.dialog,e)&&(Q.current=e,B.dialog.focus())}})),$=gt((function(){var e;(B.remove(),null==te.current||te.current(),null==ee.current||ee.current(),x)&&(null==(e=Q.current)||null==e.focus||e.focus(S),Q.current=null)}));(0,t.useEffect)((function(){i&&z&&Y()}),[i,z,Y]),(0,t.useEffect)((function(){K&&$()}),[K,$]),Pt((function(){$()}));var X=gt((function(){if(w&&q()&&B.isTopModal()){var e=Nt();B.dialog&&e&&!Rt(B.dialog,e)&&B.dialog.focus()}})),J=gt((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===f&&O())})),Z=gt((function(e){p&&27===e.keyCode&&B.isTopModal()&&(null==y||y(e),e.defaultPrevented||O())})),ee=(0,t.useRef)(),te=(0,t.useRef)(),ne=m;if(!z||!(i||ne&&!K))return null;var re=Object.assign({role:s,ref:B.setDialogRef,"aria-modal":"dialog"===s||void 0},V,{style:l,className:u,tabIndex:-1}),ie=C?C(re):(0,he.jsx)("div",Object.assign({},re,{children:t.cloneElement(c,{role:"document"})}));ne&&(ie=(0,he.jsx)(ne,{appear:!0,unmountOnExit:!0,in:!!i,onExit:D,onExiting:M,onExited:function(){G(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:j,onEntered:U,children:ie}));var ae=null;if(f){var oe=g;ae=I({ref:B.setBackdropRef,onClick:J}),oe&&(ae=(0,he.jsx)(oe,{appear:!0,in:!!i,children:ae}))}return(0,he.jsx)(he.Fragment,{children:Ne.createPortal((0,he.jsxs)(he.Fragment,{children:[ae,ie]}),z)})}));Kt.displayName="Modal";var Gt,Qt=Object.assign(Kt,{Manager:Ut}),Yt=["className","children","transitionClasses"],$t=(Y(Gt={},De,"show"),Y(Gt,Le,"show"),Gt),Xt=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=Z(e,Yt),u=(0,t.useCallback)((function(e,t){Je(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,he.jsx)(it,X(X({ref:n,addEndListener:$e},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,X(X({},n),{},{className:te()("fade",r,i.props.className,$t[e],o[e])}))}}))}));Xt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Xt.displayName="Fade";var Jt,Zt=Xt,en=me("offcanvas-body"),tn=["bsPrefix","className","children"],nn=(Y(Jt={},De,"show"),Y(Jt,Le,"show"),Jt),rn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=Z(e,tn);return r=pe(r,"offcanvas"),(0,he.jsx)(it,X(X({ref:n,addEndListener:$e},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,X(X({},n),{},{className:te()(i,a.props.className,(e===De||e===Me)&&"".concat(r,"-toggling"),nn[e])}))}}))}));rn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},rn.displayName="OffcanvasToggling";var an=rn,on=t.createContext({onHide:function(){}}),sn=n(7),un=n.n(sn),ln=["className","variant"],cn={"aria-label":un().string,onClick:un().func,variant:un().oneOf(["white"])},hn=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=Z(e,ln);return(0,he.jsx)("button",X({ref:t,type:"button",className:te()("btn-close",r&&"btn-close-".concat(r),n)},i))}));hn.displayName="CloseButton",hn.propTypes=cn,hn.defaultProps={"aria-label":"Close"};var fn=hn,dn=["closeLabel","closeVariant","closeButton","onHide","children"],pn=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=Z(e,dn),l=(0,t.useContext)(on),c=gt((function(){null==l||l.onHide(),null==o||o()}));return(0,he.jsxs)("div",X(X({ref:n},u),{},{children:[s,a&&(0,he.jsx)(fn,{"aria-label":r,variant:i,onClick:c})]}))}));pn.defaultProps={closeLabel:"Close",closeButton:!1};var vn=pn,yn=["bsPrefix","className"],mn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=Z(e,yn);return n=pe(n,"offcanvas-header"),(0,he.jsx)(vn,X(X({ref:t},i),{},{className:te()(r,n)}))}));mn.displayName="OffcanvasHeader",mn.defaultProps={closeLabel:"Close",closeButton:!1};var gn,kn=mn,bn=(gn="h5",t.forwardRef((function(e,t){return(0,he.jsx)("div",X(X({},e),{},{ref:t,className:te()(e.className,gn)}))}))),_n=me("offcanvas-title",{Component:bn});function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}function En(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wn(e)););return e}function xn(){return xn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=En(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xn.apply(this,arguments)}function Sn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}function Cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(mT){return!1}}function Tn(e){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tn(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e,t){if(t&&("object"===Tn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function Rn(e){var t=Cn();return function(){var n,r=wn(e);if(t){var i=wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nn(this,n)}}var Pn=Function.prototype.bind.call(Function.prototype.call,[].slice);function An(e,t){return Pn(e.querySelectorAll(t))}function On(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Dn,Ln=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Mn=".sticky-top",Fn=".navbar-toggler",jn=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Te(t,Y({},e,"".concat(parseFloat(Te(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Te(t,Y({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;xn(wn(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";An(r,Ln).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),An(r,Mn).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),An(r,Fn).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;xn(wn(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=On(e.className,t):e.setAttribute("class",On(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";An(r,Ln).forEach((function(e){return t.restore(i,e)})),An(r,Mn).forEach((function(e){return t.restore(a,e)})),An(r,Fn).forEach((function(e){return t.restore(a,e)}))}}]),n}(Ut);var Un=jn,Vn=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function zn(e){return(0,he.jsx)(an,X({},e))}function Bn(e){return(0,he.jsx)(Zt,X({},e))}var qn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,l=e.backdrop,c=e.keyboard,h=e.scroll,f=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,y=e.autoFocus,m=e.enforceFocus,g=e.restoreFocus,k=e.restoreFocusOptions,b=e.onEntered,_=e.onExit,w=e.onExiting,E=e.onEnter,x=e.onEntering,S=e.onExited,C=e.backdropClassName,T=e.manager,I=Z(e,Vn),N=(0,t.useRef)();r=pe(r,"offcanvas");var R=((0,t.useContext)(dt)||{}).onToggle,P=gt((function(){null==R||R(),null==p||p()})),A=(0,t.useMemo)((function(){return{onHide:P}}),[P]);var O=(0,t.useCallback)((function(e){return(0,he.jsx)("div",X(X({},e),{},{className:te()("".concat(r,"-backdrop"),C)}))}),[C,r]);return(0,he.jsx)(on.Provider,{value:A,children:(0,he.jsx)(Qt,{show:u,ref:n,backdrop:l,container:v,keyboard:c,autoFocus:y,enforceFocus:m&&!h,restoreFocus:g,restoreFocusOptions:k,onEscapeKeyDown:f,onShow:d,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:x,onEntered:b,onExit:_,onExiting:w,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:T||(h?(N.current||(N.current=new Un({handleContainerOverflow:!1})),N.current):function(e){return Dn||(Dn=new jn(e)),Dn}()),transition:zn,backdropTransition:Bn,renderBackdrop:O,renderDialog:function(e){return(0,he.jsx)("div",X(X(X({role:"dialog"},e),I),{},{className:te()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));qn.displayName="Offcanvas",qn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Hn=Object.assign(qn,{Body:en,Header:kn,Title:_n}),Wn=["className","bsPrefix","backdrop","backdropClassName","keyboard","scroll","placement","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onShow","onHide","onEscapeKeyDown","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Kn=t.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,a=e.backdrop,o=e.backdropClassName,s=e.keyboard,u=e.scroll,l=e.placement,c=e.autoFocus,h=e.enforceFocus,f=e.restoreFocus,d=e.restoreFocusOptions,p=e.onShow,v=e.onHide,y=e.onEscapeKeyDown,m=e.onEnter,g=e.onEntering,k=e.onEntered,b=e.onExit,_=e.onExiting,w=e.onExited,E=Z(e,Wn),x=(0,t.useContext)(dt);i=pe(i,"offcanvas");var S="string"===typeof(null==x?void 0:x.expand),C=It(S?x.expand:"xs","up");return S&&C?(0,he.jsx)("div",X(X({ref:n},E),{},{className:te()(r,i,"".concat(i,"-").concat(l))})):(0,he.jsx)(Hn,X({ref:n,show:!(null==x||!x.expanded),bsPrefix:i,backdrop:a,backdropClassName:o,keyboard:s,scroll:u,placement:l,autoFocus:c,enforceFocus:h,restoreFocus:f,restoreFocusOptions:d,onShow:p,onHide:v,onEscapeKeyDown:y,onEnter:m,onEntering:g,onEntered:k,onExit:b,onExiting:_,onExited:w},E))}));Kn.displayName="NavbarOffcanvas";var Gn=Kn,Qn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Yn=me("navbar-text",{Component:"span"}),$n=t.forwardRef((function(e,n){var r=oe(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,l=r.sticky,c=r.className,h=r.as,f=void 0===h?"nav":h,d=r.expanded,p=r.onToggle,v=r.onSelect,y=r.collapseOnSelect,m=Z(r,Qn),g=pe(i,"navbar"),k=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),y&&d&&(null==p||p(!1))}),[v,y,d,p]);void 0===m.role&&"nav"!==f&&(m.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var _=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d,expand:a}}),[g,d,a,p]);return(0,he.jsx)(dt.Provider,{value:_,children:(0,he.jsx)(re.Provider,{value:k,children:(0,he.jsx)(f,X(X({ref:n},m),{},{className:te()(c,g,a&&b,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),l&&"sticky-".concat(l),u&&"fixed-".concat(u))}))})})}));$n.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},$n.displayName="Navbar";var Xn=Object.assign($n,{Brand:be,Collapse:yt,Offcanvas:Gn,Text:Yn,Toggle:_t}),Jn=["bsPrefix","fluid","as","className"],Zn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=Z(e,Jn),u=pe(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,he.jsx)(a,X(X({ref:t},s),{},{className:te()(o,r?"".concat(u).concat(l):u)}))}));Zn.displayName="Container",Zn.defaultProps={fluid:!1};var er=Zn;n(573);var tr=t.createContext(null);tr.displayName="NavContext";var nr=tr,rr=t.createContext(null),ir=["as","disabled"];function ar(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var c={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},c];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},c]}var or=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ir),a=o(ar(Object.assign({tagName:n,disabled:r},i)),2),s=a[0],u=a[1].tagName;return(0,he.jsx)(u,Object.assign({},i,s,{ref:t}))}));or.displayName="Button";var sr=or,ur=["as","active","eventKey"];function lr(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(re),l=(0,t.useContext)(nr),c=(0,t.useContext)(rr),h=i,f={role:o};if(l){o||"tablist"!==l.role||(f.role="tab");var d=l.getControllerId(null!=n?n:null),p=l.getControlledId(null!=n?n:null);f[Mt("event-key")]=n,f.id=d||a,!(h=null==i&&null!=n?l.activeKey===n:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(f["aria-controls"]=p)}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),h?f["aria-selected"]=h:f.tabIndex=-1),f.onClick=gt((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:h}]}var cr=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?sr:n,i=e.active,a=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ur),u=o(lr(Object.assign({key:ne(a,s.href),active:i},s)),2),l=u[0],c=u[1];return l[Mt("active")]=c.isActive,(0,he.jsx)(r,Object.assign({},s,l,{ref:t}))}));cr.displayName="NavItem";var hr=cr,fr=["as","onSelect","activeKey","role","onKeyDown"];var dr=function(){},pr=Mt("event-key"),vr=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,l=e.role,c=e.onKeyDown,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,fr),f=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),p=(0,t.useContext)(re),v=(0,t.useContext)(rr);v&&(l=l||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var y=(0,t.useRef)(null),m=function(e){var t=y.current;if(!t)return null;var n=An(t,"[".concat(pr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(y.current&&d.current){var e=y.current.querySelector("[".concat(pr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var k=et(n,y);return(0,he.jsx)(re.Provider,{value:g,children:(0,he.jsx)(nr.Provider,{value:{role:l,activeKey:ne(u),getControlledId:r||dr,getControllerId:i||dr},children:(0,he.jsx)(o,Object.assign({},h,{onKeyDown:function(e){if(null==c||c(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,f()}},ref:k,role:l}))})})}));vr.displayName="Nav";var yr=Object.assign(vr,{Item:hr}),mr=t.createContext(null);mr.displayName="CardHeaderContext";var gr=mr,kr=me("nav-item");new WeakMap;var br=["onKeyDown"];var _r=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,br),a=o(ar(Object.assign({tagName:"a"},i)),1)[0],s=gt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,he.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,he.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:s}))}));_r.displayName="Anchor";var wr=_r,Er=["bsPrefix","className","as","active","eventKey"],xr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?wr:i,s=e.active,u=e.eventKey,l=Z(e,Er);n=pe(n,"nav-link");var c=o(lr(X({key:ne(u,l.href),active:s},l)),2),h=c[0],f=c[1];return(0,he.jsx)(a,X(X(X({},l),h),{},{ref:t,className:te()(r,n,l.disabled&&"disabled",f.isActive&&"active")}))}));xr.displayName="NavLink",xr.defaultProps={disabled:!1};var Sr=xr,Cr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Tr=t.forwardRef((function(e,n){var r,i,a,o=oe(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,l=o.bsPrefix,c=o.variant,h=o.fill,f=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,y=o.activeKey,m=Z(o,Cr),g=pe(l,"nav"),k=!1,b=(0,t.useContext)(dt),_=(0,t.useContext)(gr);return b?(i=b.bsPrefix,k=null==d||d):_&&(a=_.cardHeaderBsPrefix),(0,he.jsx)(yr,X({as:u,ref:n,activeKey:y,className:te()(v,(r={},Y(r,g,!k),Y(r,"".concat(i,"-nav"),k),Y(r,"".concat(i,"-nav-scroll"),k&&p),Y(r,"".concat(a,"-").concat(c),!!a),Y(r,"".concat(g,"-").concat(c),!!c),Y(r,"".concat(g,"-fill"),h),Y(r,"".concat(g,"-justified"),f),r))},m))}));Tr.displayName="Nav",Tr.defaultProps={justify:!1,fill:!1};var Ir=Object.assign(Tr,{Item:kr,Link:Sr}),Nr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Rr=t.createContext&&t.createContext(Nr),Pr=function(){return Pr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Ar=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Or(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Pr({key:n},e.attr),Or(e.child))}))}function Dr(e){return function(n){return t.createElement(Lr,Pr({attr:Pr({},e.attr)},n),Or(e.child))}}function Lr(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=Ar(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Pr(Pr({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Rr?t.createElement(Rr.Consumer,null,(function(e){return n(e)})):n(Nr)}function Mr(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M27.5 162.2L9 187.1h90.5l6.9-130.7-78.9 105.8zM396.3 45.7L267.7 32l135.7 147.2-7.1-133.5zM112.2 218.3l-11.2-22H9.9L234.8 458zm2-31.2h284l-81.5-88.5L256.3 33zm297.3 9.1L277.6 458l224.8-261.7h-90.9zM415.4 69L406 56.4l.9 17.3 6.1 113.4h90.3zM113.5 93.5l-4.6 85.6L244.7 32 116.1 45.7zm287.7 102.7h-290l42.4 82.9L256.3 480l144.9-283.8z"}}]})(e)}function Fr(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function jr(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Ur(e){return Dr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"}}]})(e)}function Vr(e){return Dr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}var zr=function(){return(0,he.jsx)("div",{children:(0,he.jsx)(Xn,{collapseOnSelect:!0,expand:"lg",bg:"transparent",variant:"secondary",children:(0,he.jsxs)(er,{className:"col ",children:[(0,he.jsx)(Xn.Brand,{href:"#home",children:(0,he.jsxs)(Q,{className:"text-white text-decoration-none fs-4",to:"./",children:[(0,he.jsx)(Mr,{className:"mb-1"})," CodeBase"]})}),(0,he.jsx)(Xn.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,he.jsx)(Xn.Collapse,{id:"responsive-navbar-nav",children:(0,he.jsx)(Ir,{className:"ms-auto  rounded-pill btn-outline-success",children:(0,he.jsx)(Ir.Link,{href:"#",children:(0,he.jsx)(Q,{className:"text-light text-decoration-none m-3",to:"/Login",children:"Sign In"})})})})]})})})},Br=function(){return(0,he.jsxs)("div",{className:"bg-info vh-100",children:[(0,he.jsx)(zr,{}),(0,he.jsxs)("div",{className:"row",children:[(0,he.jsxs)("div",{className:"col-md-6 text-start ms-5 ",children:[(0,he.jsxs)("h1",{className:"my-4 fw-bold display-2",children:[(0,he.jsx)("span",{className:"text-success",children:"Learn"})," to Code ",(0,he.jsx)("br",{}),"with ",(0,he.jsx)("span",{className:"text-primary",children:"CodeBase"})]}),(0,he.jsx)("p",{className:"my-2 text-dark lh-lg",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Veritatis assumenda qui vitae illo soluta magni architecto aspernatur magnam? Ullam explicabo eligendi sapiente, totam hic enim animi asperiores nisi facere doloremque!"}),(0,he.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,he.jsx)(Q,{className:"btn btn-outline-primary my-5 me-5 hm-button",to:"/Login",children:"Sign In"}),(0,he.jsx)(Q,{className:"my-5 hm-button btn btn-outline-success",to:"/signup",children:"Sign Up"})]})]}),(0,he.jsx)("div",{className:"col-md-5 mt-5",children:(0,he.jsx)("img",{src:"./images/img4.svg",className:"img-fluid mt-5 pt-5",alt:""})})]})]})};function qr(){qr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Tn(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),s(m,o,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Hr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(yc){return void n(yc)}s.done?t(u):Promise.resolve(u).then(r,i)}function Wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Hr(a,r,i,o,s,"next",e)}function s(e){Hr(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Kr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Gr(e,t,n){return Gr=Cn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ie(i,n.prototype),i},Gr.apply(null,arguments)}function Qr(e){var t="function"===typeof Map?new Map:void 0;return Qr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Gr(e,arguments,wn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ie(n,e)},Qr(e)}var Yr=!1,$r=!1,Xr="${JSCORE_VERSION}",Jr=function(e,t){if(!e)throw Zr(t)},Zr=function(e){return new Error("Firebase Database ("+Xr+") INTERNAL ASSERT FAILED: "+e)},ei=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ei(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ni=function(e){var t=ei(e);return ti.encodeByteArray(t,!0)},ri=function(e){return ni(e).replace(/\./g,"")},ii=function(e){try{return ti.decodeString(e,!0)}catch(mT){console.error("base64Decode failed: ",mT)}return null};function ai(e){return oi(void 0,e)}function oi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=oi(e[n],t[n]));return e}var si=function(){function e(){var t=this;Ot(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ui(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function li(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function ci(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function hi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fi(){var e=ui();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function di(){return!0===Yr||!0===$r}var pi=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(In(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(In(a),vi.prototype.create),a}return Lt(n)}(Qr(Error)),vi=function(){function e(t,n,r){Ot(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?yi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new pi(n,a,t);return o}}]),e}();function yi(e,t){return e.replace(mi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mi=/\{\$([^}]+)}/g;function gi(e){return JSON.parse(e)}function ki(e){return JSON.stringify(e)}var bi=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=gi(ii(a[0])||""),n=gi(ii(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(mT){}return{header:t,claims:n,data:r,signature:i}};function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wi(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ei(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xi(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Si(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ci(s)&&Ci(u)){if(!Si(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function Ci(e){return null!==e&&"object"===typeof e}function Ti(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ii(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ni(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ri=function(){function e(){Ot(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Lt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(h^f),u=1518500249):(s=c^h^f,u=1859775393):p<60?(s=c&h|f&(c|h),u=2400959708):(s=c^h^f,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Pi=function(){function e(t,n){var r=this;Ot(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Kr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ai),void 0===r.error&&(r.error=Ai),void 0===r.complete&&(r.complete=Ai);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(mT){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(mT){"undefined"!==typeof console&&console.error&&console.error(mT)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ai(){}function Oi(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Di=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Li(e){return e&&e._delegate?e._delegate:e}var Mi=function(){function e(t,n,r){Ot(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Fi="[DEFAULT]",ji=function(){function e(t,n){Ot(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new si;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(mT){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(mT){if(r)return null;throw mT}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch(mT){}var t,n=Kr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(mT){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(At(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),At(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Kr(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=o(i.value,2),l=u[0],c=u[1],h=this.normalizeInstanceIdentifier(l);r===h&&c.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SS){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(SS){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi;return this.component?this.component.multipleInstances?e:Fi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ui,Vi,zi=function(){function e(t){Ot(this,e),this.name=t,this.providers=new Map}return Lt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ji(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vi||(Vi={}));var qi={debug:Vi.DEBUG,verbose:Vi.VERBOSE,info:Vi.INFO,warn:Vi.WARN,error:Vi.ERROR,silent:Vi.SILENT},Hi=Vi.INFO,Wi=(Y(Ui={},Vi.DEBUG,"log"),Y(Ui,Vi.VERBOSE,"log"),Y(Ui,Vi.INFO,"info"),Y(Ui,Vi.WARN,"warn"),Y(Ui,Vi.ERROR,"error"),Ui),Ki=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Gi=function(){function e(t){Ot(this,e),this.name=t,this._logLevel=Hi,this._logHandler=Ki,this._userLogHandler=null,Bi.push(this)}return Lt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Vi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?qi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Vi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Vi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.INFO].concat(t)),this._logHandler.apply(this,[this,Vi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.WARN].concat(t)),this._logHandler.apply(this,[this,Vi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vi.ERROR].concat(t)),this._logHandler.apply(this,[this,Vi.ERROR].concat(t))}}]),e}();var Qi,Yi;var $i=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,ea=new WeakMap;var ta={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ji.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function na(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yi||(Yi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(aa(this),n),ia($i.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ia(e.apply(aa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[aa(this),t].concat(r));return Ji.set(a,t.sort?t.sort():[t]),ia(a)}}function ra(e){return"function"===typeof e?na(e):(e instanceof IDBTransaction&&function(e){if(!Xi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xi.set(e,t)}}(e),t=e,(Qi||(Qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ta):e);var t}function ia(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ia(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&$i.set(t,e)})).catch((function(){})),ea.set(t,e),t}(e);if(Zi.has(e))return Zi.get(e);var t=ra(e);return t!==e&&(Zi.set(e,t),ea.set(t,e)),t}var aa=function(e){return ea.get(e)};var oa,sa,ua=["get","getKey","getAll","getAllKeys","count"],la=["put","add","delete","clear"],ca=new Map;function ha(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ca.get(t))return ca.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=la.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ua.includes(n))){var a=function(){var e=Wr(qr().mark((function e(t){var a,o,s,u,l,c,h=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ca.set(t,a),a}}}ta=function(e){return X(X({},e),{},{get:function(t,n,r){return ha(t,n)||e.get(t,n,r)},has:function(t,n){return!!ha(t,n)||e.has(t,n)}})}(ta);var fa=function(){function e(t){Ot(this,e),this.container=t}return Lt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var da="@firebase/app",pa="0.7.25",va=new Gi("@firebase/app"),ya="[DEFAULT]",ma=(Y(oa={},da,"fire-core"),Y(oa,"@firebase/app-compat","fire-core-compat"),Y(oa,"@firebase/analytics","fire-analytics"),Y(oa,"@firebase/analytics-compat","fire-analytics-compat"),Y(oa,"@firebase/app-check","fire-app-check"),Y(oa,"@firebase/app-check-compat","fire-app-check-compat"),Y(oa,"@firebase/auth","fire-auth"),Y(oa,"@firebase/auth-compat","fire-auth-compat"),Y(oa,"@firebase/database","fire-rtdb"),Y(oa,"@firebase/database-compat","fire-rtdb-compat"),Y(oa,"@firebase/functions","fire-fn"),Y(oa,"@firebase/functions-compat","fire-fn-compat"),Y(oa,"@firebase/installations","fire-iid"),Y(oa,"@firebase/installations-compat","fire-iid-compat"),Y(oa,"@firebase/messaging","fire-fcm"),Y(oa,"@firebase/messaging-compat","fire-fcm-compat"),Y(oa,"@firebase/performance","fire-perf"),Y(oa,"@firebase/performance-compat","fire-perf-compat"),Y(oa,"@firebase/remote-config","fire-rc"),Y(oa,"@firebase/remote-config-compat","fire-rc-compat"),Y(oa,"@firebase/storage","fire-gcs"),Y(oa,"@firebase/storage-compat","fire-gcs-compat"),Y(oa,"@firebase/firestore","fire-fst"),Y(oa,"@firebase/firestore-compat","fire-fst-compat"),Y(oa,"fire-js","fire-js"),Y(oa,"firebase","fire-js-all"),oa),ga=new Map,ka=new Map;function ba(e,t){try{e.container.addComponent(t)}catch(mT){va.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),mT)}}function _a(e){var t=e.name;if(ka.has(t))return va.debug("There were multiple attempts to register component ".concat(t,".")),!1;ka.set(t,e);var n,r=Kr(ga.values());try{for(r.s();!(n=r.n()).done;){ba(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Ea=(Y(sa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Y(sa,"bad-app-name","Illegal App name: '{$appName}"),Y(sa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Y(sa,"app-deleted","Firebase App named '{$appName}' already deleted"),Y(sa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Y(sa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Y(sa,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Y(sa,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Y(sa,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Y(sa,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),sa),xa=new vi("app","Firebase",Ea),Sa=function(){function e(t,n,r){var i=this;Ot(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",(function(){return i}),"PUBLIC"))}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}]),e}(),Ca="9.8.2";function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=ga.get(e);if(!t)throw xa.create("no-app",{appName:e});return t}function Ia(e,t,n){var r,i=null!==(r=ma[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void va.warn(s.join(" "))}_a(new Mi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Na="firebase-heartbeat-store",Ra=null;function Pa(){return Ra||(Ra=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ia(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ia(s.result),e.oldVersion,e.newVersion,ia(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Na)}}).catch((function(e){throw xa.create("storage-open",{originalErrorMessage:e.message})}))),Ra}function Aa(e){return Oa.apply(this,arguments)}function Oa(){return Oa=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return n=e.sent,e.abrupt("return",n.transaction(Na).objectStore(Na).get(Ma(t)));case 7:throw e.prev=7,e.t0=e.catch(0),xa.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Oa.apply(this,arguments)}function Da(e,t){return La.apply(this,arguments)}function La(){return La=Wr(qr().mark((function e(t,n){var r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return r=e.sent,i=r.transaction(Na,"readwrite"),a=i.objectStore(Na),e.next=8,a.put(n,Ma(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),xa.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),La.apply(this,arguments)}function Ma(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fa=function(){function e(t){var n=this;Ot(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new za(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Lt(e,[{key:"triggerHeartbeat",value:function(){var e=Wr(qr().mark((function e(){var t,n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ja(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Wr(qr().mark((function e(){var t,n,r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ja(),n=Ua(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ri(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ja(){return(new Date).toISOString().substring(0,10)}function Ua(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Kr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ba(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ba(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Va,za=function(){function e(t){Ot(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Lt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(yc){t(yc)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Aa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Da(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Da(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(At(r.heartbeats),At(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ba(e){return ri(JSON.stringify({version:2,heartbeats:e})).length}Va="",_a(new Mi("platform-logger",(function(e){return new fa(e)}),"PRIVATE")),_a(new Mi("heartbeat",(function(e){return new Fa(e)}),"PRIVATE")),Ia(da,pa,Va),Ia(da,pa,"esm2017"),Ia("fire-js","");function qa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ha;Object.create;function Wa(){return Y({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ka=Wa,Ga=new vi("auth","Firebase",Wa()),Qa=new Gi("@firebase/auth");function Ya(e){if(Qa.logLevel<=Vi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qa.error.apply(Qa,["Auth (".concat(Ca,"): ").concat(e)].concat(n))}}function $a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw eo.apply(void 0,[e].concat(n))}function Xa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return eo.apply(void 0,[e].concat(n))}function Ja(e,t,n){var r=Object.assign(Object.assign({},Ka()),Y({},t,n));return new vi("auth","Firebase",r).create(t,{appName:e.name})}function Za(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$a(e,"argument-error"),Ja(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=At(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(At(o)))}return Ga.create.apply(Ga,[e].concat(n))}function to(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw eo.apply(void 0,[t].concat(r))}}function no(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ya(t),new Error(t)}function ro(e,t){e||no(t)}var io=new Map;function ao(e){ro(e instanceof Function,"Expected a class definition");var t=io.get(e);return t?(ro(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,io.set(e,t),t)}function oo(e,t){var n=wa(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Si(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;$a(r,"already-initialized")}return n.initialize({options:t})}function so(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function uo(){return"http:"===lo()||"https:"===lo()}function lo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var co=function(){function e(t,n){Ot(this,e),this.shortDelay=t,this.longDelay=n,ro(n>t,"Short delay should be less than long delay!"),this.isMobile=li()||hi()}return Lt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(uo()||ci()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ho(e,t){ro(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fo=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void no("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void no("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void no("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),po=(Y(Ha={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Y(Ha,"MISSING_CUSTOM_TOKEN","internal-error"),Y(Ha,"INVALID_IDENTIFIER","invalid-email"),Y(Ha,"MISSING_CONTINUE_URI","internal-error"),Y(Ha,"INVALID_PASSWORD","wrong-password"),Y(Ha,"MISSING_PASSWORD","internal-error"),Y(Ha,"EMAIL_EXISTS","email-already-in-use"),Y(Ha,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Y(Ha,"INVALID_IDP_RESPONSE","invalid-credential"),Y(Ha,"INVALID_PENDING_TOKEN","invalid-credential"),Y(Ha,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Y(Ha,"MISSING_REQ_TYPE","internal-error"),Y(Ha,"EMAIL_NOT_FOUND","user-not-found"),Y(Ha,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Y(Ha,"EXPIRED_OOB_CODE","expired-action-code"),Y(Ha,"INVALID_OOB_CODE","invalid-action-code"),Y(Ha,"MISSING_OOB_CODE","internal-error"),Y(Ha,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Y(Ha,"INVALID_ID_TOKEN","invalid-user-token"),Y(Ha,"TOKEN_EXPIRED","user-token-expired"),Y(Ha,"USER_NOT_FOUND","user-token-expired"),Y(Ha,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Y(Ha,"INVALID_CODE","invalid-verification-code"),Y(Ha,"INVALID_SESSION_INFO","invalid-verification-id"),Y(Ha,"INVALID_TEMPORARY_PROOF","invalid-credential"),Y(Ha,"MISSING_SESSION_INFO","missing-verification-id"),Y(Ha,"SESSION_EXPIRED","code-expired"),Y(Ha,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Y(Ha,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Y(Ha,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Y(Ha,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Y(Ha,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Y(Ha,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Y(Ha,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Y(Ha,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Y(Ha,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Y(Ha,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Y(Ha,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ha),vo=new co(3e4,6e4);function yo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function mo(e,t,n,r){return go.apply(this,arguments)}function go(){return go=Wr(qr().mark((function e(t,n,r,i){var a,o=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ko(t,a,Wr(qr().mark((function e(){var a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ti(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fo.fetch()(Eo(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function ko(e,t,n){return bo.apply(this,arguments)}function bo(){return bo=Wr(qr().mark((function e(t,n,r){var i,a,s,u,l,c,h,f,d,p;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},po),n),e.prev=2,a=new xo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw So(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=s.ok?u.errorMessage:u.error.message,c=l.split(" : "),h=o(c,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw So(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw So(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw So(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ja(t,p,d);case 34:$a(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof pi)){e.next=41;break}throw e.t0;case 41:$a(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),bo.apply(this,arguments)}function _o(e,t,n,r){return wo.apply(this,arguments)}function wo(){return wo=Wr(qr().mark((function e(t,n,r,i){var a,o,s=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,mo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&$a(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function Eo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ho(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var xo=function(){function e(t){var n=this;Ot(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Xa(n.auth,"network-request-failed"))}),vo.get())}))}return Lt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function So(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Xa(e,t,r);return i.customData._tokenResponse=n,i}function Co(e,t){return To.apply(this,arguments)}function To(){return To=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Io(e,t){return No.apply(this,arguments)}function No(){return No=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ro(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(mT){}}function Po(){return Po=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,to((a=Oo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ro(Ao(a.auth_time)),issuedAtTime:Ro(Ao(a.iat)),expirationTime:Ro(Ao(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Ao(e){return 1e3*Number(e)}function Oo(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ya("JWT malformed, contained fewer than 3 sections"),null;try{var a=ii(r);return a?JSON.parse(a):(Ya("Failed to decode base64 JWT payload"),null)}catch(mT){return Ya("Caught error parsing JWT payload as JSON",mT),null}}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=Wr(qr().mark((function e(t,n){var r=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof pi&&Mo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lo.apply(this,arguments)}function Mo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Fo=function(){function e(t){Ot(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Wr(qr().mark((function t(){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),jo=function(){function e(t,n){Ot(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Uo(e){return Vo.apply(this,arguments)}function Vo(){return Vo=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u,l,c,h,f;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Do(t,Io(r,{idToken:i}));case 6:to(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?qo(o.providerUserInfo):[],u=Bo(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jo(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function zo(){return(zo=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,Uo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(At(n),At(t))}function qo(e){return e.map((function(e){var t=e.providerId,n=qa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ho(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(t,{},Wr(qr().mark((function e(){var r,i,a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ti({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Eo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fo.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}var Ko=function(){function e(){Ot(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){to(e.idToken,"internal-error"),to("undefined"!==typeof e.idToken,"internal-error"),to("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Oo(e);return to(t,"internal-error"),to("undefined"!==typeof t.exp,"internal-error"),to("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Wr(qr().mark((function e(t){var n,r=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],to(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Wr(qr().mark((function e(t,n){var r,i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return no("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(to("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(to("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(to("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Go(e,t){to("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Qo=function(){function e(t){Ot(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?At(a.providerData):[],this.metadata=new jo(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lt(e,[{key:"getIdToken",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(to(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Po.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(to(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){to(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Wr(qr().mark((function e(t){var n,r,i=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Uo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Do(this,Co(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,_=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;to(k&&E,t,"internal-error");var x=Ko.fromJSON(this.name,E);to("string"===typeof k,t,"internal-error"),Go(h,t.name),Go(f,t.name),to("boolean"===typeof b,t,"internal-error"),to("boolean"===typeof _,t,"internal-error"),Go(d,t.name),Go(p,t.name),Go(v,t.name),Go(y,t.name),Go(m,t.name),Go(g,t.name);var S=new e({uid:k,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=Wr(qr().mark((function t(n,r){var i,a,o,s=arguments;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ko).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Uo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Yo=function(){function e(){Ot(this,e),this.type="NONE",this.storage={}}return Lt(e,[{key:"_isAvailable",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Yo.type="NONE";var $o=Yo;function Xo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Jo=function(){function e(t,n,r){Ot(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Xo(this.userKey,a.apiKey,o),this.fullPersistenceKey=Xo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Qo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Wr(qr().mark((function t(n,r){var i,a,o,s,u,l,c,h,f,d,p,v=arguments;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ao($o),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ao($o),s=Xo(i,n.config.apiKey,n.name),u=null,l=Kr(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=Qo._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(es(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(as(t))return"Blackberry";if(os(t))return"Webos";if(ts(t))return"Safari";if((t.includes("chrome/")||ns(t))&&!t.includes("edge/"))return"Chrome";if(is(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/firefox\//i.test(e)}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/crios\//i.test(e)}function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/iemobile/i.test(e)}function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/android/i.test(e)}function as(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/blackberry/i.test(e)}function os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/webos/i.test(e)}function ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return/iphone|ipad|ipod/i.test(e)}function us(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return ss(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ls(){return fi()&&10===document.documentMode}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return ss(e)||is(e)||os(e)||as(e)||/windows phone/i.test(e)||rs(e)}function hs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zo(ui());break;case"Worker":t="".concat(Zo(ui()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ca,"/").concat(r)}var fs=function(){function e(t){Ot(this,e),this.auth=t,this.queue=[]}return Lt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(mT){r(mT)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Kr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Kr(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(l){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ds=function(){function e(t,n,r){Ot(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vs(this),this.idTokenSubscription=new vs(this),this.beforeStateQueue=new fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ga,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Lt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ao(t)),this._initializationPromise=this.queue(Wr(qr().mark((function r(){var i,a;return qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Jo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return to(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Li(t):null)&&to(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Wr(qr().mark((function e(t){var n,r=this,i=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&to(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Wr(qr().mark((function n(){return qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ao(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new vi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return to(n=t&&ao(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Jo.create(this,[ao(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Wr(qr().mark((function e(t){var n=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return to(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return to(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Wr(qr().mark((function e(){var t,n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ps(e){return Li(e)}var vs=function(){function e(t){var n=this;Ot(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Pi(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Lt(e,[{key:"next",get:function(){return to(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var ys=function(){function e(t,n){Ot(this,e),this.providerId=t,this.signInMethod=n}return Lt(e,[{key:"toJSON",value:function(){return no("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return no("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return no("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return no("not implemented")}}]),e}();function ms(e,t){return gs.apply(this,arguments)}function gs(){return gs=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithPassword",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function _s(e,t){return ws.apply(this,arguments)}function ws(){return ws=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function Es(e,t){return xs.apply(this,arguments)}function xs(){return xs=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}var Ss=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ot(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ks(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_s(t,{email:this._email,oobCode:this._password}));case 5:$a(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ms(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Es(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:$a(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ys);function Cs(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithIdp",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}var Is=function(e){Sn(n,e);var t=Rn(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Cs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Cs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Cs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ti(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$a("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qa(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ys);function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mo(t,"POST","/v1/accounts:sendVerificationCode",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ps(){return Ps=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function As(){return As=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw So(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Os=Y({},"USER_NOT_FOUND","user-not-found");function Ds(){return Ds=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",_o(t,"POST","/v1/accounts:signInWithPhoneNumber",yo(t,r),Os));case 2:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}var Ls=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ps.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return As.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ds.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ys);var Ms=function(){function e(t){var n,r,i,a,o,s;Ot(this,e);var u=Ii(Ni(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);to(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Lt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ii(Ni(e)).link,n=t?Ii(Ni(t)).deep_link_id:null,r=Ii(Ni(e)).deep_link_id;return(r?Ii(Ni(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SS){return null}}}]),e}();var Fs=function(){function e(){Ot(this,e),this.providerId=e.PROVIDER_ID}return Lt(e,null,[{key:"credential",value:function(e,t){return Ss._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ms.parseLink(t);return to(n,"argument-error"),Ss._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Fs.PROVIDER_ID="password",Fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var js=function(){function e(t){Ot(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Us=function(e){Sn(n,e);var t=Rn(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return At(this.scopes)}}]),n}(js),Vs=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.call(this,"facebook.com")}return Lt(n,null,[{key:"credential",value:function(e){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SS){return null}}}]),n}(Us);Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vs.PROVIDER_ID="facebook.com";var zs=function(e){Sn(n,e);var t=Rn(n);function n(){var e;return Ot(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lt(n,null,[{key:"credential",value:function(e,t){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SS){return null}}}]),n}(Us);zs.GOOGLE_SIGN_IN_METHOD="google.com",zs.PROVIDER_ID="google.com";var Bs=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.call(this,"github.com")}return Lt(n,null,[{key:"credential",value:function(e){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SS){return null}}}]),n}(Us);Bs.GITHUB_SIGN_IN_METHOD="github.com",Bs.PROVIDER_ID="github.com";var qs=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.call(this,"twitter.com")}return Lt(n,null,[{key:"credential",value:function(e,t){return Is._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SS){return null}}}]),n}(Us);function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_o(t,"POST","/v1/accounts:signUp",yo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}qs.TWITTER_SIGN_IN_METHOD="twitter.com",qs.PROVIDER_ID="twitter.com";var Ks=function(){function e(t){Ot(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Wr(qr().mark((function t(n,r,i){var a,o,s,u,l=arguments;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Qo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Gs(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Wr(qr().mark((function t(n,r,i){var a;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Gs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Gs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Qs=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a){var o,s;return Ot(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(In(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(pi);function Ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qs._fromErrorAndOperation(e,n,t,r);throw n}))}function $s(e,t){return Xs.apply(this,arguments)}function Xs(){return Xs=Wr(qr().mark((function e(t,n){var r,i,a=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Do,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ks._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Wr(qr().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Do(t,Ys(i,a,n,t),r);case 6:return to((o=e.sent).idToken,i,"internal-error"),to(s=Oo(o.idToken),i,"internal-error"),u=s.sub,to(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ks._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&$a(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Zs.apply(this,arguments)}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=Wr(qr().mark((function e(t,n){var r,i,a,o,s=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Ys(t,i,n);case 4:return a=e.sent,e.next=7,Ks._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eu(ps(t),n));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Wr(qr().mark((function e(t,n,r){var i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ps(t),e.next=3,Hs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ks._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t,n){return nu(Li(e),Fs.credential(t,n))}function su(e,t){return mo(e,"POST","/v2/accounts/mfaEnrollment:start",yo(e,t))}new WeakMap;var uu="__sak",lu=function(){function e(t,n){Ot(this,e),this.storageRetriever=t,this.type=n}return Lt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch(SS){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cu=function(e){Sn(n,e);var t=Rn(n);function n(){var e;return Ot(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ui();return ts(e)||ss(e)}()&&function(){try{return!(!window||window===window.top)}catch(mT){return!1}}(),e.fallbackToPolling=cs(),e._shouldAllowMigration=!0,e}return Lt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ls()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Wr(qr().mark((function e(t,r){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(wn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Wr(qr().mark((function e(t){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(wn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn(wn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lu);cu.type="LOCAL";var hu=cu,fu=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lu);fu.type="SESSION";var du=fu;function pu(e){return Promise.all(e.map(function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vu=function(){function e(t){Ot(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u,l;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,pu(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vu.receivers=[];var mu=function(){function e(t){Ot(this,e),this.target=t,this.handlers=new Set}return Lt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Wr(qr().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=yu("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function gu(){return window}function ku(){return"undefined"!==typeof gu().WorkerGlobalScope&&"function"===typeof gu().importScripts}function bu(){return _u.apply(this,arguments)}function _u(){return(_u=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Eu="firebaseLocalStorageDb",xu="firebaseLocalStorage",Su="fbase_key",Cu=function(){function e(t){Ot(this,e),this.request=t}return Lt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Tu(e,t){return e.transaction([xu],t?"readwrite":"readonly").objectStore(xu)}function Iu(){var e=indexedDB.deleteDatabase(Eu);return new Cu(e).toPromise()}function Nu(){var e=indexedDB.open(Eu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xu,{keyPath:Su})}catch(mT){n(mT)}})),e.addEventListener("success",Wr(qr().mark((function n(){var r;return qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xu)){n.next=12;break}return r.close(),n.next=5,Iu();case 5:return n.t0=t,n.next=8,Nu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ru(e,t,n){return Pu.apply(this,arguments)}function Pu(){return Pu=Wr(qr().mark((function e(t,n,r){var i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Tu(t,!0).put((Y(i={},Su,n),Y(i,"value",r),i)),e.abrupt("return",new Cu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Au(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tu(t,!1).get(n),e.next=3,new Cu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Du(e,t){var n=Tu(e,!0).delete(t);return new Cu(n).toPromise()}var Lu=function(){function e(){Ot(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lt(e,[{key:"_openDb",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Nu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ku()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Wr(qr().mark((function e(){var t=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vu._getInstance(ku()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Wr(qr().mark((function e(n,r){var i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Wr(qr().mark((function e(){var t,n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Nu();case 5:return t=e.sent,e.next=8,Ru(t,uu,"1");case 8:return e.next=10,Du(t,uu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Wr(qr().mark((function e(t,n){var r=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ru(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Au(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Wr(qr().mark((function e(t){var n=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Du(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Wr(qr().mark((function e(){var t,n,r,i,a,o,s,u,l,c,h;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Tu(e,!1).getAll();return new Cu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Kr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Wr(qr().mark((function t(){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Lu.type="LOCAL";var Mu=Lu;function Fu(e,t){return mo(e,"POST","/v2/accounts/mfaSignIn:start",yo(e,t))}function ju(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Xa("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Uu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Uu("rcb"),new co(3e4,6e4);var Vu="recaptcha";function zu(e,t,n){return Bu.apply(this,arguments)}function Bu(){return Bu=Wr(qr().mark((function e(t,n,r){var i,a,o,s,u,l,c,h,f;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,to("string"===typeof a,t,"argument-error"),to(r.type===Vu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return to("enroll"===s.type,t,"internal-error"),e.next=13,su(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return to("signin"===s.type,t,"internal-error"),to(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Fu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ns(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Bu.apply(this,arguments)}var qu=function(){function e(t){Ot(this,e),this.providerId=e.PROVIDER_ID,this.auth=ps(t)}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return zu(this.auth,e,Li(t))}}],[{key:"credential",value:function(e,t){return Ls._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ls._fromTokenResponse(n,r):null}}]),e}();function Hu(e,t){return t?ao(t):(to(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}qu.PROVIDER_ID="phone",qu.PHONE_SIGN_IN_METHOD="phone";var Wu=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return Cs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Cs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Cs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ys);function Ku(e){return eu(e.auth,new Wu(e),e.bypassAuthState)}function Gu(e){var t=e.auth,n=e.user;return to(n,t,"internal-error"),Js(n,new Wu(e),e.bypassAuthState)}function Qu(e){return Yu.apply(this,arguments)}function Yu(){return Yu=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,to(r=t.user,n,"internal-error"),e.abrupt("return",$s(r,new Wu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}var $u=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ot(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Wr(qr().mark((function t(n,r){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Wr(qr().mark((function e(t){var n,r,i,a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ku;case"linkViaPopup":case"linkViaRedirect":return Qu;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:$a(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xu=new co(2e3,1e4);function Ju(e,t,n){return Zu.apply(this,arguments)}function Zu(){return Zu=Wr(qr().mark((function e(t,n,r){var i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ps(t),Za(t,n,js),a=Hu(i,r),o=new el(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var el=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a,o){var s;return Ot(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=In(s),s}return Lt(n,[{key:"executeNotNull",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return to(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Wr(qr().mark((function e(){var t,n=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ro(1===this.filter.length,"Popup operations only handle one event"),t=yu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Xa(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Xa(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Xa(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Xu.get())}()}}]),n}($u);el.currentPopupAction=null;var tl=new Map,nl=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ot(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lt(n,[{key:"execute",value:function(){var e=Wr(qr().mark((function e(){var t,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=tl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,rl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xn(wn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:tl.set(this.auth._key(),t);case 21:return this.bypassAuthState||tl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Wr(qr().mark((function e(t){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xn(wn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xn(wn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($u);function rl(e,t){return il.apply(this,arguments)}function il(){return il=Wr(qr().mark((function e(t,n){var r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sl(n),i=ol(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e,t){tl.set(e._key(),t)}function ol(e){return ao(e._redirectPersistence)}function sl(e){return Xo("pendingRedirect",e.config.apiKey,e.name)}function ul(e,t){return ll.apply(this,arguments)}function ll(){return ll=Wr(qr().mark((function e(t,n){var r,i,a,o,s,u=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ps(t),a=Hu(i,n),o=new nl(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}var cl=function(){function e(t){Ot(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!fl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xa(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(hl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function hl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function fl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dl(e){return pl.apply(this,arguments)}function pl(){return pl=Wr(qr().mark((function e(t){var n,r=arguments;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",mo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}var vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function ml(){return ml=Wr(qr().mark((function e(t){var n,r,i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dl(t);case 4:n=e.sent,r=n.authorizedDomains,i=Kr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:$a(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ml.apply(this,arguments)}function gl(e){var t=so(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yl.test(r))return!1;if(vl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var kl=new co(3e4,6e4);function bl(){var e=gu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=At(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var _l=null;function wl(e){return _l=_l||function(e){return new Promise((function(t,n){var r,i,a;function o(){bl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bl(),n(Xa(e,"network-request-failed"))},timeout:kl.get()})}if(null===(i=null===(r=gu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=gu().gapi)||void 0===a?void 0:a.load)){var s=Uu("iframefcb");return gu()[s]=function(){gapi.load?o():n(Xa(e,"network-request-failed"))},ju("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw _l=null,e}))}(e),_l}var El=new co(5e3,15e3),xl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(e){var t=e.config;to(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ho(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ca},i=Sl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ti(r).slice(1))}function Tl(e){return Il.apply(this,arguments)}function Il(){return Il=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wl(t);case 2:return n=e.sent,to(r=gu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Cl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xl,dontclear:!0},(function(e){return new Promise(function(){var n=Wr(qr().mark((function n(r,i){var a,o,s;return qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){gu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Xa(t,"network-request-failed"),o=gu().setTimeout((function(){i(a)}),El.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}var Nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rl="_blank",Pl="http://localhost",Al=function(){function e(t){Ot(this,e),this.window=t,this.associatedEvent=null}return Lt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(mT){}}}]),e}();function Ol(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},Nl),{width:r.toString(),height:i.toString(),top:a,left:s}),c=ui().toLowerCase();n&&(u=ns(c)?Rl:n),es(c)&&(t=t||Pl,l.scrollbars="yes");var h=Object.entries(l).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(us(c)&&"_self"!==u)return Dl(t||"",u),new Al(null);var f=window.open(t||"",u,h);to(f,e,"popup-blocked");try{f.focus()}catch(mT){}return new Al(f)}function Dl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ll="__/auth/handler",Ml="emulator/auth/handler";function Fl(e,t,n,r,i,a){to(e.config.authDomain,e,"auth-domain-config-required"),to(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ca,eventId:i};if(t instanceof js){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Ei(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(a||{});u<l.length;u++){var c=o(l[u],2),h=c[0],f=c[1];s[h]=f}}if(t instanceof Us){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ll);return ho(t,Ml)}(e),"?").concat(Ti(p).slice(1))}var jl="webStorageSupport",Ul=function(){function e(){Ot(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=du,this._completeRedirectFn=ul,this._overrideRedirectResult=al}return Lt(e,[{key:"_openPopup",value:function(){var e=Wr(qr().mark((function e(t,n,r,i){var a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ro(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Fl(t,n,r,so(),i),e.abrupt("return",Ol(t,o,yu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Wr(qr().mark((function e(t,n,r,i){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Fl(t,n,r,so(),i),gu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ro(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tl(t);case 2:return n=e.sent,r=new cl(t),n.register("authEvent",(function(e){return to(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(jl,{type:jl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$a(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ml.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return cs()||ts()||ss()}}]),e}(),Vl=Ul,zl=function(){function e(t){Ot(this,e),this.factorId=t}return Lt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return no("unexpected MultiFactorSessionType")}}}]),e}(),Bl=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"phone")).credential=e,r}return Lt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return mo(e,"POST","/v2/accounts/mfaEnrollment:finalize",yo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return mo(e,"POST","/v2/accounts/mfaSignIn:finalize",yo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(zl);(function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"assertion",value:function(e){return Bl._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ql,Hl="@firebase/auth",Wl="0.20.2",Kl=function(){function e(t){Ot(this,e),this.auth=t,this.internalListeners=new Map}return Lt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){to(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Gl(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(mT){a(mT)}}function s(e){try{u(r.throw(e))}catch(mT){a(mT)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function Ql(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(mT){a=[6,mT],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}ql="Browser",_a(new Mi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){to(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),to(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ql,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hs(ql)},i=new ds(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ao);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),_a(new Mi("auth-internal",(function(e){return function(e){return new Kl(e)}(ps(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(Hl,Wl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ql)),Ia(Hl,Wl,"esm2017");var Yl=function(){return Yl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yl.apply(this,arguments)},$l=function(e){return{loading:void 0===e||null===e,value:e}},Xl=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return Yl(Yl({},e),{error:t.error,loading:!1,value:void 0});case"reset":return $l(t.defaultValue);case"value":return Yl(Yl({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),$l(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},Jl=function(e,n){var r=Xl((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,s=r.setValue,u=r.value;(0,t.useEffect)((function(){var t=function(e,t,n,r){return Li(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Gl(void 0,void 0,void 0,(function(){var t;return Ql(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){t()}}),[e]);var l=[u,a,i];return(0,t.useMemo)((function(){return l}),l)},Zl="@firebase/database",ec="0.13.0",tc="";var nc=function(){function e(t){Ot(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Lt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ki(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:gi(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),rc=function(){function e(){Ot(this,e),this.cache_={},this.isInMemoryStorage=!0}return Lt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return _i(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),ic=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nc(t)}}catch(mT){}return new rc},ac=ic("localStorage"),oc=ic("sessionStorage"),sc=new Gi("@firebase/database"),uc=function(){var e=1;return function(){return e++}}(),lc=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Jr(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ri;n.update(t);var r=n.digest();return ti.encodeByteArray(r)},cc=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?ki(r):r,t+=" "}return t},hc=null,fc=!0,dc=function(e,t){Jr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(sc.logLevel=Vi.VERBOSE,hc=sc.log.bind(sc),t&&oc.set("logging_enabled",!0)):"function"===typeof e?hc=e:(hc=null,oc.remove("logging_enabled"))},pc=function(){if(!0===fc&&(fc=!1,null===hc&&!0===oc.get("logging_enabled")&&dc(!0)),hc){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=cc.apply(null,t);hc(r)}},vc=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];pc.apply(void 0,[e].concat(n))}},yc=function(){var e="FIREBASE INTERNAL ERROR: "+cc.apply(void 0,arguments);sc.error(e)},mc=function(){var e="FIREBASE FATAL ERROR: ".concat(cc.apply(void 0,arguments));throw sc.error(e),new Error(e)},gc=function(){var e="FIREBASE WARNING: "+cc.apply(void 0,arguments);sc.warn(e)},kc=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},bc="[MIN_NAME]",_c="[MAX_NAME]",wc=function(e,t){if(e===t)return 0;if(e===bc||t===_c)return-1;if(t===bc||e===_c)return 1;var n=Ac(e),r=Ac(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Ec=function(e,t){return e===t?0:e<t?-1:1},xc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ki(t))},Sc=function e(t){if("object"!==typeof t||null===t)return ki(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=ki(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Cc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Tc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Ic=function(e){Jr(!kc(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Nc=new RegExp("^-?(0*)\\d{1,10}$"),Rc=-2147483648,Pc=2147483647,Ac=function(e){if(Nc.test(e)){var t=Number(e);if(t>=Rc&&t<=Pc)return t}return null},Oc=function(e){try{e()}catch(mT){setTimeout((function(){var t=mT.stack||"";throw gc("Exception was thrown by user callback.",t),mT}),Math.floor(0))}},Dc=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Lc=function(){function e(t,n){var r=this;Ot(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){gc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Mc=function(){function e(t,n,r){var i=this;Ot(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(pc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gc(e)}}]),e}(),Fc=function(){function e(t){Ot(this,e),this.accessToken=t}return Lt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Fc.OWNER="owner";var jc="5",Uc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vc="websocket",zc="long_polling",Bc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Ot(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ac.get("host:"+t)||this._host}return Lt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ac.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function qc(e,t,n){var r;if(Jr("string"===typeof t,"typeof type must == string"),Jr("object"===typeof n,"typeof params must == object"),t===Vc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==zc)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Tc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Hc=function(){function e(){Ot(this,e),this.counters_={}}return Lt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_i(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ai(this.counters_)}}]),e}(),Wc={},Kc={};function Gc(e){var t=e.toString();return Wc[t]||(Wc[t]=new Hc),Wc[t]}var Qc=function(){function e(t){Ot(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Lt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Oc((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Yc="start",$c="close",Xc=function(){function e(t,n,r,i,a,o,s){var u=this;Ot(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vc(t),this.stats_=Gc(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),qc(n,zc,e)}}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qc(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(di()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Jc((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Yc)n.id=a,n.password=o;else{if(i!==$c)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=jc,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Uc.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=ki(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ni(t),r=Cc(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!di()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=ki(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!di()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Jc=function(){function e(t,n,r,i){if(Ot(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,di())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(mT){pc("frame writing exception"),mT.stack&&pc(mT.stack),pc(mT)}}}return Lt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;di()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){pc("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(mT){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pc("No IE domain setting required")}catch(mT){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Zc=null;"undefined"!==typeof MozWebSocket?Zc=MozWebSocket:"undefined"!==typeof WebSocket&&(Zc=WebSocket);var eh=function(){function e(t,n,r,i,a,o,s){Ot(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vc(this.connId),this.stats_=Gc(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ac.set("previous_websocket_failure",!0);try{if(di()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(jc,"/").concat(tc,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/code-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o})}this.mySock=new Zc(this.connURL,[],undefined)}catch(mT){this.log_("Error instantiating WebSocket.");var s=mT.message||mT.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){ac.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=gi(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Jr(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=ki(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Cc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(mT){this.log_("Exception thrown from WebSocket.send():",mT.message||mT.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=jc,!di()&&"undefined"!==typeof location&&location.hostname&&Uc.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),qc(e,Vc,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Zc&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return ac.isInMemoryStorage||!0===ac.get("previous_websocket_failure")}}]),e}();eh.responsesRequiredToBeHealthy=2,eh.healthyTimeout=3e4;var th=function(){function e(t){Ot(this,e),this.initTransports_(t)}return Lt(e,[{key:"initTransports_",value:function(t){var n=eh&&eh.isAvailable(),r=n&&!eh.previouslyFailed();if(t.webSocketOnly&&(n||gc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[eh];else{var i,a=this.transports_=[],o=Kr(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Xc,eh]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();th.globalTransportInitialized_=!1;var nh=function(){function e(t,n,r,i,a,o,s,u,l,c){Ot(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vc("c:"+this.id+":"),this.transportManager_=new th(n),this.log_("Connection created"),this.start_()}return Lt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Dc((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=xc("t",e),n=xc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=xc("t",e),n=xc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=xc("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?yc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),jc!==n&&gc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dc((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ac.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),rh=function(){function e(){Ot(this,e)}return Lt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ih=function(){function e(t){Ot(this,e),this.allowedEvents_=t,this.listeners_={},Jr(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Lt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=At(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Jr(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ah=function(e){Sn(n,e);var t=Rn(n);function n(){var e;return Ot(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||li()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return Jr("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ih),oh=function(){function e(t,n){if(Ot(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Lt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function sh(){return new oh("")}function uh(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function lh(e){return e.pieces_.length-e.pieceNum_}function ch(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new oh(e.pieces_,t)}function hh(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function fh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function dh(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oh(t,0)}function ph(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof oh)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new oh(n,0)}function vh(e){return e.pieceNum_>=e.pieces_.length}function yh(e,t){var n=uh(e),r=uh(t);if(null===n)return t;if(n===r)return yh(ch(e),ch(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mh(e,t){if(lh(e)!==lh(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gh(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(lh(e)>lh(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var kh=Lt((function e(t,n){Ot(this,e),this.errorPrefix_=n,this.parts_=fh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Di(this.parts_[r]);bh(this)}));function bh(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+_h(e))}function _h(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var wh=function(e){Sn(n,e);var t=Rn(n);function n(){var e,r,i;return Ot(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return Jr("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ih),Eh=1e3,xh=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a,o,s,u,l){var c;if(Ot(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=vc("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Eh,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!di())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wh.getInstance().on("visible",c.onVisible_,In(c)),-1===e.host.indexOf("fblocal")&&ah.getInstance().on("online",c.onOnline_,In(c)),c}return Lt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ki(i)),Jr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new si,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Jr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Jr(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=bi(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=bi(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Jr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+ki(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):yc("Unrecognized action received from server: "+ki(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Jr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Eh),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Wr(qr().mark((function e(){var t,r,i,a,s,u,l,c,h,f,d,p,v,y,m=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,i())},h=function(e){Jr(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=o(d,2),v=p[0],y=p[1],u?pc("getToken() completed but was canceled"):(pc("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=y&&y.token,l=new nh(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){gc(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&gc(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){pc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){pc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ei(this.interruptReasons_)&&(this.reconnectDelay_=Eh,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Sc(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new oh(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){pc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){pc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Kr(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Kr(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";di()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+tc.replace(/\./g,"-")]=1,li()?e["framework.cordova"]=1:hi()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ah.getInstance().currentlyOnline();return Ei(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&_i(e,"w")){var n=wi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();gc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(rh);xh.nextPersistentConnectionId_=0,xh.nextConnectionId_=0;var Sh,Ch=function(){function e(t,n){Ot(this,e),this.name=t,this.node=n}return Lt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Th=function(){function e(){Ot(this,e)}return Lt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ch(bc,e),r=new Ch(bc,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ch.MIN}}]),e}(),Ih=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){return wc(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Zr("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ch.MIN}},{key:"maxPost",value:function(){return new Ch(_c,Sh)}},{key:"makePost",value:function(e,t){return Jr("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ch(e,Sh)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Sh},set:function(e){Sh=e}}]),n}(Th),Nh=new Ih,Rh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Ot(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Ph=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Dh.EMPTY_NODE,this.right=null!=a?a:Dh.EMPTY_NODE}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Dh.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Dh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Ph.RED=!0,Ph.BLACK=!1;var Ah,Oh=function(){function e(){Ot(this,e)}return Lt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ph(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Dh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Ot(this,e),this.comparator_=t,this.root_=n}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ph.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ph.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Rh(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Rh(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Rh(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Rh(this.root_,null,this.comparator_,!0,e)}}]),e}();function Lh(e,t){return wc(e.name,t.name)}function Mh(e,t){return wc(e,t)}Dh.EMPTY_NODE=new Oh;var Fh,jh,Uh,Vh=function(e){return"number"===typeof e?"number:"+Ic(e):"string:"+e},zh=function(e){if(e.isLeafNode()){var t=e.val();Jr("string"===typeof t||"number"===typeof t||"object"===typeof t&&_i(t,".sv"),"Priority must be a string or number.")}else Jr(e===Ah||e.isEmpty(),"priority of unexpected type.");Jr(e===Ah||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Bh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Ot(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Jr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),zh(this.priorityNode_)}return Lt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return vh(t)?this:".priority"===uh(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=uh(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Jr(".priority"!==r||1===lh(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ch(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vh(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ic(this.value_):this.value_,this.lazyHash_=lc(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Jr(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Jr(i>=0,"Unknown leaf type: "+n),Jr(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Fh},set:function(e){Fh=e}}]),e}();Bh.VALUE_TYPE_ORDER=["object","boolean","number","string"];var qh,Hh,Wh=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?wc(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ch.MIN}},{key:"maxPost",value:function(){return new Ch(_c,new Bh("[PRIORITY-POST]",Uh))}},{key:"makePost",value:function(e,t){var n=jh(e);return new Ch(t,new Bh("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Th),Kh=new Wh,Gh=Math.log(2),Qh=function(){function e(t){Ot(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Gh,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Lt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Yh=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Ph(o,a.node,Ph.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Ph(o,a.node,Ph.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],h=n?n(c):c;u(new Ph(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,Ph.BLACK):(s(h,Ph.BLACK),s(h,Ph.RED))}return a}(new Qh(e.length));return new Dh(r||t,a)},$h={},Xh=function(){function e(t,n){Ot(this,e),this.indexes_=t,this.indexSet_=n}return Lt(e,[{key:"get",value:function(e){var t=wi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Dh?t:null}},{key:"hasIndex",value:function(e){return _i(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Jr(t!==Nh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ch.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?Yh(i,t.getCompare()):$h;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(xi(this.indexes_,(function(e,i){var a=wi(r.indexSet_,i);if(Jr(a,"Missing index implementation for "+i),e===$h){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ch.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),Yh(o,a.getCompare())}return $h}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ch(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(xi(this.indexes_,(function(e){if(e===$h)return e;var r=n.get(t.name);return r?e.remove(new Ch(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Jr($h&&Kh,"ChildrenNode.ts has not been loaded"),qh=qh||new e({".priority":$h},{".priority":Kh})}}]),e}(),Jh=function(){function e(t,n,r){Ot(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zh(this.priorityNode_),this.children_.isEmpty()&&Jr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Lt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Hh}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Hh:t}},{key:"getChild",value:function(e){var t=uh(e);return null===t?this:this.getImmediateChild(t).getChild(ch(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Jr(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ch(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Hh:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=uh(e);if(null===n)return t;Jr(".priority"!==uh(e)||1===lh(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ch(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Kh,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Vh(this.getPriority().val())+":"),this.forEachChild(Kh,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":lc(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ch(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ch(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ch(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ch.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ch.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zh?-1:0}},{key:"withIndex",value:function(t){if(t===Nh||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Nh||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Kh),r=t.getIterator(Kh),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Nh?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Hh||(Hh=new e(new Dh(Mh),null,Xh.Default))}}]),e}();Jh.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Zh=new(function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.call(this,new Dh(Mh),Jh.EMPTY_NODE,Xh.Default)}return Lt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Jh.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Jh));Object.defineProperties(Ch,{MIN:{value:new Ch(bc,Jh.EMPTY_NODE)},MAX:{value:new Ch(_c,Zh)}}),Ih.__EMPTY_NODE=Jh.EMPTY_NODE,Bh.__childrenNodeConstructor=Jh,Ah=Zh,function(e){Uh=e}(Zh);function ef(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Jh.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Jr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Bh(n,ef(t))}if(e instanceof Array){var r=Jh.EMPTY_NODE;return Tc(e,(function(t,n){if(_i(e,t)&&"."!==t.substring(0,1)){var i=ef(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(ef(t))}var i=[],a=!1,o=e;if(Tc(o,(function(e,t){if("."!==e.substring(0,1)){var n=ef(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ch(e,n)))}})),0===i.length)return Jh.EMPTY_NODE;var s=Yh(i,Lh,(function(e){return e.name}),Mh);if(a){var u=Yh(i,Kh.getCompare());return new Jh(s,ef(t),new Xh({".priority":u},{".priority":Kh}))}return new Jh(s,ef(t),Xh.Default)}!function(e){jh=e}(ef);var tf=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).indexPath_=e,Jr(!vh(e)&&".priority"!==uh(e),"Can't create PathIndex with empty path or .priority key"),r}return Lt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?wc(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=ef(e),r=Jh.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ch(t,r)}},{key:"maxPost",value:function(){var e=Jh.EMPTY_NODE.updateChild(this.indexPath_,Zh);return new Ch(_c,e)}},{key:"toString",value:function(){return fh(this.indexPath_,0).join("/")}}]),n}(Th),nf=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?wc(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ch.MIN}},{key:"maxPost",value:function(){return Ch.MAX}},{key:"makePost",value:function(e,t){var n=ef(e);return new Ch(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Th),rf=new nf,af="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function of(e){return{type:"value",snapshotNode:e}}function sf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function uf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function lf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var cf=function(){function e(){Ot(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kh}return Lt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Jr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Jr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bc}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Jr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Jr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_c}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Jr(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Kh}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function hf(e){var t,n={};return e.isDefault()||(e.index_===Kh?t="$priority":e.index_===rf?t="$value":e.index_===Nh?t="$key":(Jr(e.index_ instanceof tf,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ki(t),e.startSet_&&(n.startAt=ki(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+ki(e.indexStartName_))),e.endSet_&&(n.endAt=ki(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+ki(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function ff(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Kh&&(t.i=e.index_.toString()),t}var df=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=vc("p:rest:"),o.listens_={},o}return Lt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=hf(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),wi(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=hf(e._queryParams),r=e._path.toString(),i=new si;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=o(i,2),s=a[0],u=a[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ti(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=gi(c.responseText)}catch(mT){gc("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&gc("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Jr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(rh),pf=function(){function e(){Ot(this,e),this.rootNode_=Jh.EMPTY_NODE}return Lt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function vf(){return{value:null,children:new Map}}function yf(e,t,n){if(vh(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=uh(t);e.children.has(r)||e.children.set(r,vf()),yf(e.children.get(r),t=ch(t),n)}}function mf(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){mf(r,new oh(t.toString()+"/"+e),n)}))}var gf,kf=function(){function e(t){Ot(this,e),this.collection_=t,this.last_=null}return Lt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),bf=function(){function e(t,n){Ot(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new kf(t);var r=1e4+2e4*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}return Lt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Tc(t,(function(t,i){i>0&&_i(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Dc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function _f(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(gf||(gf={}));var wf,Ef=function(){function e(t,n,r){Ot(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=gf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Lt(e,[{key:"operationForChild",value:function(t){if(vh(this.path)){if(null!=this.affectedTree.value)return Jr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new oh(t));return new e(sh(),n,this.revert)}return Jr(uh(this.path)===t,"operationForChild called for unrelated child."),new e(ch(this.path),this.affectedTree,this.revert)}}]),e}(),xf=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.snap=r,this.type=gf.OVERWRITE}return Lt(e,[{key:"operationForChild",value:function(t){return vh(this.path)?new e(this.source,sh(),this.snap.getImmediateChild(t)):new e(this.source,ch(this.path),this.snap)}}]),e}(),Sf=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.children=r,this.type=gf.MERGE}return Lt(e,[{key:"operationForChild",value:function(t){if(vh(this.path)){var n=this.children.subtree(new oh(t));return n.isEmpty()?null:n.value?new xf(this.source,sh(),n.value):new e(this.source,sh(),n)}return Jr(uh(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ch(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Cf=function(){function e(t,n,r){Ot(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Lt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(vh(e))return this.isFullyInitialized()&&!this.filtered_;var t=uh(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Tf(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Zr("Should only compare child_ events.");var r=new Ch(t.childName,t.snapshotNode),i=new Ch(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function If(e,t){return{eventCache:e,serverCache:t}}function Nf(e,t,n,r){return If(new Cf(t,n,r),e.serverCache)}function Rf(e,t,n,r){return If(e.eventCache,new Cf(t,n,r))}function Pf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Af(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Of=function(){return wf||(wf=new Dh(Ec)),wf},Df=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Of();Ot(this,e),this.value=t,this.children=n}return Lt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:sh(),value:this.value};if(vh(e))return null;var n=uh(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ch(e),t);return null!=i?{path:ph(new oh(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(vh(t))return this;var n=uh(t),r=this.children.get(n);return null!==r?r.subtree(ch(t)):new e(null)}},{key:"set",value:function(t,n){if(vh(t))return new e(n,this.children);var r=uh(t),i=(this.children.get(r)||new e(null)).set(ch(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(vh(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=uh(t),r=this.children.get(n);if(r){var i,a=r.remove(ch(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(vh(e))return this.value;var t=uh(e),n=this.children.get(t);return n?n.get(ch(e)):null}},{key:"setTree",value:function(t,n){if(vh(t))return n;var r,i=uh(t),a=(this.children.get(i)||new e(null)).setTree(ch(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(sh(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ph(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,sh(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(vh(e))return null;var i=uh(e),a=this.children.get(i);return a?a.findOnPath_(ch(e),ph(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,sh(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(vh(t))return this;this.value&&r(n,this.value);var i=uh(t),a=this.children.get(i);return a?a.foreachOnPath_(ch(t),ph(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(sh(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ph(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Tc(t,(function(e,t){n=n.set(new oh(e),t)})),n}}]),e}(),Lf=function(){function e(t){Ot(this,e),this.writeTree_=t}return Lt(e,null,[{key:"empty",value:function(){return new e(new Df(null))}}]),e}();function Mf(e,t,n){if(vh(t))return new Lf(new Df(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=yh(i,t);return a=a.updateChild(o,n),new Lf(e.writeTree_.set(i,a))}var s=new Df(n),u=e.writeTree_.setTree(t,s);return new Lf(u)}function Ff(e,t,n){var r=e;return Tc(n,(function(e,n){r=Mf(r,ph(t,e),n)})),r}function jf(e,t){if(vh(t))return Lf.empty();var n=e.writeTree_.setTree(t,new Df(null));return new Lf(n)}function Uf(e,t){return null!=Vf(e,t)}function Vf(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(yh(n.path,t)):null}function zf(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kh,(function(e,n){t.push(new Ch(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ch(e,n.value))})),t}function Bf(e,t){if(vh(t))return e;var n=Vf(e,t);return new Lf(null!=n?new Df(n):e.writeTree_.subtree(t))}function qf(e){return e.writeTree_.isEmpty()}function Hf(e,t){return Wf(sh(),e.writeTree_,t)}function Wf(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Jr(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Wf(ph(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ph(e,".priority"),r)),n}function Kf(e,t){return od(t,e)}function Gf(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Qf(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Jr(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Yf(s,r.path)?i=!1:gh(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Xf(e.allWrites,$f,sh()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=jf(e.visibleWrites,r.path):Tc(r.children,(function(t){e.visibleWrites=jf(e.visibleWrites,ph(r.path,t))}));return!0}return!1}function Yf(e,t){if(e.snap)return gh(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&gh(ph(e.path,n),t))return!0;return!1}function $f(e){return e.visible}function Xf(e,t,n){for(var r=Lf.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)gh(n,o)?r=Mf(r,s=yh(n,o),a.snap):gh(o,n)&&(s=yh(o,n),r=Mf(r,sh(),a.snap.getChild(s)));else{if(!a.children)throw Zr("WriteRecord should have .snap or .children");if(gh(n,o))r=Ff(r,s=yh(n,o),a.children);else if(gh(o,n))if(vh(s=yh(o,n)))r=Ff(r,sh(),a.children);else{var u=wi(a.children,uh(s));if(u){var l=u.getChild(ch(s));r=Mf(r,sh(),l)}}}}}return r}function Jf(e,t,n,r,i){if(r||i){var a=Bf(e.visibleWrites,t);if(!i&&qf(a))return n;if(i||null!=n||Uf(a,sh())){return Hf(Xf(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(gh(e.path,t)||gh(t,e.path))}),t),n||Jh.EMPTY_NODE)}return null}var o=Vf(e.visibleWrites,t);if(null!=o)return o;var s=Bf(e.visibleWrites,t);return qf(s)?n:null!=n||Uf(s,sh())?Hf(s,n||Jh.EMPTY_NODE):null}function Zf(e,t,n,r){return Jf(e.writeTree,e.treePath,t,n,r)}function ed(e,t){return function(e,t,n){var r=Jh.EMPTY_NODE,i=Vf(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Kh,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Bf(e.visibleWrites,t);return n.forEachChild(Kh,(function(e,t){var n=Hf(Bf(a,new oh(e)),t);r=r.updateImmediateChild(e,n)})),zf(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return zf(Bf(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function td(e,t,n,r){return function(e,t,n,r,i){Jr(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ph(t,n);if(Uf(e.visibleWrites,a))return null;var o=Bf(e.visibleWrites,a);return qf(o)?i.getChild(n):Hf(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function nd(e,t){return function(e,t){return Vf(e.visibleWrites,t)}(e.writeTree,ph(e.treePath,t))}function rd(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Bf(e.visibleWrites,t),l=Vf(u,sh());if(null!=l)s=l;else{if(null==n)return[];s=Hf(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function id(e,t,n){return function(e,t,n,r){var i=ph(t,n),a=Vf(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Hf(Bf(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ad(e,t){return od(ph(e.treePath,t),e.writeTree)}function od(e,t){return{treePath:e,writeTree:t}}var sd=function(){function e(){Ot(this,e),this.changeMap=new Map}return Lt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Jr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Jr(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,lf(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,uf(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,sf(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Zr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,lf(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ud=new(function(){function e(){Ot(this,e)}return Lt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),ld=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ot(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Lt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Cf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return id(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Af(this.viewCache_),i=rd(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function cd(e,t,n,r,i){var a,o,s=new sd;if(n.type===gf.OVERWRITE){var u=n;u.source.fromUser?a=dd(e,t,u.path,u.snap,r,i,s):(Jr(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!vh(u.path),a=fd(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===gf.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=ph(n,r);pd(t,uh(l))&&(s=dd(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=ph(n,r);pd(t,uh(l))||(s=dd(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Jr(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=yd(e,t,l.path,l.children,r,i,o,s))}else if(n.type===gf.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=nd(r,n))return t;var s,u=new ld(r,t,i),l=t.eventCache.getNode();if(vh(n)||".priority"===uh(n)){var c;if(t.serverCache.isFullyInitialized())c=Zf(r,Af(t));else{var h=t.serverCache.getNode();Jr(h instanceof Jh,"serverChildren would be complete if leaf node"),c=ed(r,h)}s=e.filter.updateFullNode(l,c,a)}else{var f=uh(n),d=id(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(l,f,d,ch(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Jh.EMPTY_NODE,ch(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Zf(r,Af(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=nd(r,sh()),Nf(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=nd(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(vh(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return fd(e,t,n,u.getNode().getChild(n),i,a,s,o);if(vh(n)){var l=new Df(null);return u.getNode().forEachChild(Nh,(function(e,t){l=l.set(new oh(e),t)})),yd(e,t,n,l,i,a,s,o)}return t}var c=new Df(null);return r.foreach((function(e,t){var r=ph(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),yd(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==gf.LISTEN_COMPLETE)throw Zr("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Rf(t,a.getNode(),a.isFullyInitialized()||vh(n),a.isFiltered());return hd(e,o,n,r,ud,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Pf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(of(Pf(t)))}}(t,a,h),{viewCache:a,changes:h}}function hd(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=nd(r,n))return t;if(vh(n))if(Jr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Af(t),c=ed(r,l instanceof Jh?l:Jh.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var h=Zf(r,Af(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=uh(n);if(".priority"===f){Jr(1===lh(n),"Can't have a priority with additional path components");var d=u.getNode(),p=td(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=ch(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var m=td(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(f).updateChild(y,m):u.getNode().getImmediateChild(f)}else v=id(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,y,i,a):u.getNode()}}return Nf(t,o,u.isFullyInitialized()||vh(n),e.filter.filtersNodes())}function fd(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(vh(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=uh(n);if(!l.isCompleteForPath(n)&&lh(n)>1)return t;var d=ch(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,ud,null)}var v=Rf(t,u,l.isFullyInitialized()||vh(n),c.filtersNodes());return hd(e,v,n,i,new ld(i,v,a),s)}function dd(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new ld(i,t,a);if(vh(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Nf(t,u,!0,e.filter.filtersNodes());else{var h=uh(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Nf(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,d=ch(n),p=l.getNode().getImmediateChild(h);if(vh(d))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===hh(d)&&v.getChild(dh(d)).isEmpty()?v:v.updateChild(d,r):Jh.EMPTY_NODE}if(p.equals(f))s=t;else s=Nf(t,e.filter.updateChild(l.getNode(),h,f,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function pd(e,t){return e.eventCache.isCompleteForChild(t)}function vd(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function yd(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=vh(n)?r:new Df(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=vd(0,t.serverCache.getNode().getImmediateChild(n),r);l=fd(e,l,new oh(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=vd(0,t.serverCache.getNode().getImmediateChild(n),r);l=fd(e,l,new oh(n),h,i,a,o,s)}})),l}var md;function gd(e,t){var n=Af(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vh(t)&&!n.getImmediateChild(uh(t)).isEmpty())?n.getChild(t):null}function kd(e,t,n,r){t.type===gf.MERGE&&null!==t.source.queryId&&(Jr(Af(e.viewCache_),"We should always have a full cache before handling merges"),Jr(Pf(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=cd(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Jr(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Jr(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Jr(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,bd(e,s.changes,s.viewCache.eventCache.getNode(),null)}function bd(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Tf(e,i,"child_removed",t,r,n),Tf(e,i,"child_added",t,r,n),Tf(e,i,"child_moved",a,r,n),Tf(e,i,"child_changed",t,r,n),Tf(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var _d;function wd(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Jr(null!=a,"SyncTree gave us an op for an invalid query."),kd(a,t,n,r)}var o,s=[],u=Kr(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(kd(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Ed(e,t){var n,r=null,i=Kr(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||gd(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var xd=Lt((function e(t){Ot(this,e),this.listenProvider_=t,this.syncPointTree_=new Df(null),this.pendingWriteTree_={visibleWrites:Lf.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Sd(e,t,n,r,i){return function(e,t,n,r,i){Jr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Mf(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Nd(e,new xf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Cd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Gf(e.pendingWriteTree_,t),i=Qf(e.pendingWriteTree_,t);if(i){var a=new Df(null);return null!=r.snap?a=a.set(sh(),!0):Tc(r.children,(function(e){a=a.set(new oh(e),!0)})),Nd(e,new Ef(r.path,a,n))}return[]}function Td(e,t,n){return Nd(e,new xf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Id(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ed(n,yh(e,t));if(r)return r}));return Jf(r,t,i,n,!0)}function Nd(e,t){return Rd(t,e.syncPointTree_,null,Kf(e.pendingWriteTree_,sh()))}function Rd(e,t,n,r){if(vh(e.path))return Pd(e,t,n,r);var i=t.get(sh());null==n&&null!=i&&(n=Ed(i,sh()));var a=[],o=uh(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=ad(r,o);a=a.concat(Rd(s,u,l,c))}return i&&(a=a.concat(wd(i,e,r,n))),a}function Pd(e,t,n,r){var i=t.get(sh());null==n&&null!=i&&(n=Ed(i,sh()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=ad(r,t),u=e.operationForChild(t);u&&(a=a.concat(Pd(u,i,o,s)))})),i&&(a=a.concat(wd(i,e,r,n))),a}function Ad(e,t){return e.tagToQueryMap.get(t)}function Od(e){var t=e.indexOf("$");return Jr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oh(e.substr(0,t))}}function Dd(e,t,n){var r=e.syncPointTree_.get(t);return Jr(r,"Missing sync point for query tag that we're tracking"),wd(r,n,Kf(e.pendingWriteTree_,t),null)}var Ld=function(){function e(t){Ot(this,e),this.node_=t}return Lt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Md=function(){function e(t,n){Ot(this,e),this.syncTree_=t,this.path_=n}return Lt(e,[{key:"getImmediateChild",value:function(t){var n=ph(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Id(this.syncTree_,this.path_)}}]),e}(),Fd=function(e,t,n){return e&&"object"===typeof e?(Jr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?jd(e[".sv"],t,n):"object"===typeof e[".sv"]?Ud(e[".sv"],t):void Jr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},jd=function(e,t,n){if("timestamp"===e)return n.timestamp;Jr(!1,"Unexpected server value: "+e)},Ud=function(e,t,n){e.hasOwnProperty("increment")||Jr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Jr(!1,"Unexpected increment value: "+r);var i=t.node();if(Jr(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Vd=function(e,t,n,r){return Bd(t,new Md(n,e),r)},zd=function(e,t,n){return Bd(e,new Ld(t),n)};function Bd(e,t,n){var r,i=e.getPriority().val(),a=Fd(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Fd(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Bh(s,ef(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Bh(a))),u.forEachChild(Kh,(function(e,i){var a=Bd(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var qd=Lt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Ot(this,e),this.name=t,this.parent=n,this.node=r}));function Hd(e,t){for(var n=t instanceof oh?t:new oh(t),r=e,i=uh(n);null!==i;){var a=wi(r.node.children,i)||{children:{},childCount:0};r=new qd(i,r,a),i=uh(n=ch(n))}return r}function Wd(e){return e.node.value}function Kd(e,t){e.node.value=t,Xd(e)}function Gd(e){return e.node.childCount>0}function Qd(e,t){Tc(e.node.children,(function(n,r){t(new qd(n,e,r))}))}function Yd(e,t,n,r){n&&!r&&t(e),Qd(e,(function(e){Yd(e,t,!0,r)})),n&&r&&t(e)}function $d(e){return new oh(null===e.parent?e.name:$d(e.parent)+"/"+e.name)}function Xd(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Wd(e)&&!Gd(e)}(n),i=_i(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Xd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Xd(e))}(e.parent,e.name,e)}var Jd=/[\[\].#$\/\u0000-\u001F\u007F]/,Zd=/[\[\].#$\u0000-\u001F\u007F]/,ep=10485760,tp=function(e){return"string"===typeof e&&0!==e.length&&!Jd.test(e)},np=function(e){return"string"===typeof e&&0!==e.length&&!Zd.test(e)},rp=function e(t,n,r){var i=r instanceof oh?new kh(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+_h(i));if("function"===typeof n)throw new Error(t+"contains a function "+_h(i)+" with contents = "+n.toString());if(kc(n))throw new Error(t+"contains "+n.toString()+" "+_h(i));if("string"===typeof n&&n.length>ep/3&&Di(n)>ep)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+_h(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Tc(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!tp(n)))throw new Error(t+" contains an invalid key ("+n+") "+_h(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Di(u),bh(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Di(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+_h(i)+" in addition to actual children.")}},ip=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!tp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),np(e)}(n))throw new Error(Oi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ap=Lt((function e(){Ot(this,e),this.eventLists_=[],this.recursionDepth_=0}));function op(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||mh(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function sp(e,t,n){op(e,n),up(e,(function(e){return gh(e,t)||gh(t,e)}))}function up(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(lp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function lp(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();hc&&pc("event: "+n.toString()),Oc(r)}}}var cp="repo_interrupt",hp=function(){function e(t,n,r,i){Ot(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ap,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vf(),this.transactionQueueTree_=new qd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Lt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function fp(e,t,n){if(e.stats_=Gc(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new df(e.repoInfo_,(function(t,n,r,i){vp(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return yp(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ki(n)}catch(mT){throw new Error("Invalid authOverride provided: "+mT)}}e.persistentConnection_=new xh(e.repoInfo_,t,(function(t,n,r,i){vp(e,t,n,r,i)}),(function(t){yp(e,t)}),(function(t){!function(e,t){Tc(t,(function(t,n){mp(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Kc[n]||(Kc[n]=t()),Kc[n]}(e.repoInfo_,(function(){return new bf(e.stats_,e.server_)})),e.infoData_=new pf,e.infoSyncTree_=new xd({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Td(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),mp(e,"connected",!1),e.serverSyncTree_=new xd({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);sp(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function dp(e){var t=e.infoData_.getNode(new oh(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function pp(e){return(t=(t={timestamp:dp(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function vp(e,t,n,r,i){e.dataUpdateCount++;var a=new oh(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=xi(n,(function(e){return ef(e)}));o=function(e,t,n,r){var i=Ad(e,r);if(i){var a=Od(i),o=a.path,s=a.queryId,u=yh(o,t),l=Df.fromObject(n);return Dd(e,o,new Sf(_f(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=ef(n);o=function(e,t,n,r){var i=Ad(e,r);if(null!=i){var a=Od(i),o=a.path,s=a.queryId,u=yh(o,t);return Dd(e,o,new xf(_f(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var l=xi(n,(function(e){return ef(e)}));o=function(e,t,n){var r=Df.fromObject(n);return Nd(e,new Sf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=ef(n);o=Td(e.serverSyncTree_,a,c)}var h=a;o.length>0&&(h=xp(e,a)),sp(e.eventQueue_,h,o)}function yp(e,t){mp(e,"connected",t),!1===t&&function(e){bp(e,"onDisconnectEvents");var t=pp(e),n=vf();mf(e.onDisconnect_,sh(),(function(r,i){var a=Vd(r,i,e.serverSyncTree_,t);yf(n,r,a)}));var r=[];mf(n,sh(),(function(t,n){r=r.concat(Td(e.serverSyncTree_,t,n));var i=Np(e,t);xp(e,i)})),e.onDisconnect_=vf(),sp(e.eventQueue_,sh(),r)}(e)}function mp(e,t,n){var r=new oh("/.info/"+t),i=ef(n);e.infoData_.updateSnapshot(r,i);var a=Td(e.infoSyncTree_,r,i);sp(e.eventQueue_,r,a)}function gp(e){return e.nextWriteId_++}function kp(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cp)}function bp(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pc.apply(void 0,[t].concat(r))}function _p(e,t,n){return Id(e.serverSyncTree_,t,n)||Jh.EMPTY_NODE}function wp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ip(e,t),Wd(t)){var n=Cp(e,t);Jr(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Ep(e,$d(t),n)}else Gd(t)&&Qd(t,(function(t){wp(e,t)}))}function Ep(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=_p(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Jr(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=yh(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){bp(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Cd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Ip(e,Hd(e.transactionQueueTree_,t)),wp(e,e.transactionQueueTree_),sp(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Oc(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{gc("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}xp(e,t)}}),o)}function xp(e,t){var n=Sp(e,t),r=$d(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=yh(n,u.path),c=!1,h=void 0;if(Jr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,h=u.abortReason,i=i.concat(Cd(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h="maxretry",i=i.concat(Cd(e.serverSyncTree_,u.currentWriteId,!0));else{var f=_p(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){rp("transaction failed: Data returned ",d,u.path);var p=ef(d);"object"===typeof d&&null!=d&&_i(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,y=pp(e),m=zd(p,f,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=gp(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Sd(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Cd(e.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(Cd(e.serverSyncTree_,u.currentWriteId,!0))}sp(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);Ip(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Oc(r[l]);wp(e,e.transactionQueueTree_)}(e,Cp(e,n),r),r}function Sp(e,t){var n,r=e.transactionQueueTree_;for(n=uh(t);null!==n&&void 0===Wd(r);)r=Hd(r,n),n=uh(t=ch(t));return r}function Cp(e,t){var n=[];return Tp(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Tp(e,t,n){var r=Wd(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Qd(t,(function(t){Tp(e,t,n)}))}function Ip(e,t){var n=Wd(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Kd(t,n.length>0?n:void 0)}Qd(t,(function(t){Ip(e,t)}))}function Np(e,t){var n=$d(Sp(e,t)),r=Hd(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Rp(e,t)})),Rp(e,r),Yd(r,(function(t){Rp(e,t)})),n}function Rp(e,t){var n=Wd(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Jr(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Jr(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Cd(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Kd(t,void 0):n.length=a+1,sp(e.eventQueue_,$d(t),i);for(var s=0;s<r.length;s++)Oc(r[s])}}var Pp=function(e,t){var n=Ap(e),r=n.namespace;"firebase.com"===n.domain&&mc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||mc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Bc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new oh(n.pathString)}},Ap=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(mT){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Kr(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):gc("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Op=function(){function e(t,n,r,i){Ot(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Lt(e,[{key:"key",get:function(){return vh(this._path)?null:hh(this._path)}},{key:"ref",get:function(){return new Dp(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=ff(this._queryParams),t=Sc(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return ff(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Li(t))instanceof e))return!1;var n=this._repo===t._repo,r=mh(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Dp=function(e){Sn(n,e);var t=Rn(n);function n(e,r){return Ot(this,n),t.call(this,e,r,new cf,!1)}return Lt(n,[{key:"parent",get:function(){var e=dh(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Op);!function(e){Jr(!md,"__referenceConstructor has already been defined"),md=e}(Dp),function(e){Jr(!_d,"__referenceConstructor has already been defined"),_d=e}(Dp);var Lp={},Mp=!1;function Fp(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||mc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pc("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Pp(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/code-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=Pp(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new Fc(Fc.OWNER):new Mc(e.name,e.options,t);ip("Invalid Firebase Database URL",s),vh(s.path)||mc("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Lp[t.name];i||(i={},Lp[t.name]=i);var a=i[e.toURLString()];a&&mc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new hp(e,Mp,n,r),i[e.toURLString()]=a,a}(u,e,c,new Lc(e.name,n));return new jp(h,e)}var jp=function(){function e(t,n){Ot(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Lt(e,[{key:"_repo",get:function(){return this._instanceStarted||(fp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Dp(this._repo,sh())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Lp[t];n&&n[e.key]===e||mc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),kp(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&mc("Cannot call "+e+" on a deleted database.")}}]),e}();xh.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xh.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Up(e){return Dr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)}!function(e){!function(e){tc=e}(Ca),_a(new Mi("database",(function(e,t){var n=t.instanceIdentifier;return Fp(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ia(Zl,ec,e),Ia(Zl,ec,"esm2017")}();Ia("firebase","9.8.2","app");var Vp,zp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Bp={},qp=qp||{},Hp=zp||self;function Wp(){}function Kp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qp="closure_uid_"+(1e9*Math.random()>>>0),Yp=0;function $p(e,t,n){return e.call.apply(e.bind,arguments)}function Xp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jp(e,t,n){return(Jp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$p:Xp).apply(null,arguments)}function Zp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ev(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tv(){this.s=this.s,this.o=this.o}var nv={};tv.prototype.s=!1,tv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qp)&&e[Qp]||(e[Qp]=++Yp)}(this);delete nv[e]}},tv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},iv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function av(e){return Array.prototype.concat.apply([],arguments)}function ov(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sv(e){return/^[\s\xa0]*$/.test(e)}var uv,lv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function cv(e,t){return-1!=e.indexOf(t)}function hv(e,t){return e<t?-1:e>t?1:0}e:{var fv=Hp.navigator;if(fv){var dv=fv.userAgent;if(dv){uv=dv;break e}}uv=""}function pv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vv(e){var t={};for(var n in e)t[n]=e[n];return t}var yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yv.length;a++)n=yv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gv(e){return gv[" "](e),e}gv[" "]=Wp;var kv,bv=cv(uv,"Opera"),_v=cv(uv,"Trident")||cv(uv,"MSIE"),wv=cv(uv,"Edge"),Ev=wv||_v,xv=cv(uv,"Gecko")&&!(cv(uv.toLowerCase(),"webkit")&&!cv(uv,"Edge"))&&!(cv(uv,"Trident")||cv(uv,"MSIE"))&&!cv(uv,"Edge"),Sv=cv(uv.toLowerCase(),"webkit")&&!cv(uv,"Edge");function Cv(){var e=Hp.document;return e?e.documentMode:void 0}e:{var Tv="",Iv=function(){var e=uv;return xv?/rv:([^\);]+)(\)|;)/.exec(e):wv?/Edge\/([\d\.]+)/.exec(e):_v?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sv?/WebKit\/(\S+)/.exec(e):bv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Iv&&(Tv=Iv?Iv[1]:""),_v){var Nv=Cv();if(null!=Nv&&Nv>parseFloat(Tv)){kv=String(Nv);break e}}kv=Tv}var Rv,Pv={};function Av(){return function(e){var t=Pv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=lv(String(kv)).split("."),n=lv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=hv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||hv(0==a[2].length,0==o[2].length)||hv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Hp.document&&_v){var Ov=Cv();Rv=Ov||(parseInt(kv,10)||void 0)}else Rv=void 0;var Dv=Rv,Lv=function(){if(!Hp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Hp.addEventListener("test",Wp,t),Hp.removeEventListener("test",Wp,t)}catch(n){}return e}();function Mv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fv(e,t){if(Mv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xv){e:{try{gv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:jv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fv.Z.h.call(this)}}Mv.prototype.h=function(){this.defaultPrevented=!0},ev(Fv,Mv);var jv={2:"touch",3:"pen",4:"mouse"};Fv.prototype.h=function(){Fv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Uv="closure_listenable_"+(1e6*Math.random()|0),Vv=0;function zv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Vv,this.ca=this.fa=!1}function Bv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function qv(e){this.src=e,this.g={},this.h=0}function Hv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=rv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Bv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}qv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wv(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Kv="closure_lm_"+(1e6*Math.random()|0),Gv={};function Qv(e,t,n,r,i){if(r&&r.once)return $v(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qv(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Uv]?e.N(t,n,Gp(r)?!!r.capture:!!r,i):Yv(e,t,n,!1,r,i)}function Yv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Gp(i)?!!i.capture:!!i,s=ty(e);if(s||(e[Kv]=s=new qv(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ey;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $v(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$v(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Uv]?e.O(t,n,Gp(r)?!!r.capture:!!r,i):Yv(e,t,n,!0,r,i)}function Xv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xv(e,t[a],n,r,i);else r=Gp(r)?!!r.capture:!!r,n=ry(n),e&&e[Uv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wv(a=e.g[t],n,r,i))&&(Bv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ty(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wv(t,n,r,i)),(n=-1<e?t[e]:null)&&Jv(n))}function Jv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Uv])Hv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ty(t))?(Hv(n,e),0==n.h&&(n.src=null,t[Kv]=null)):Bv(e)}}}function Zv(e){return e in Gv?Gv[e]:Gv[e]="on"+e}function ey(e,t){if(e.ca)e=!0;else{t=new Fv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jv(e),e=n.call(r,t)}return e}function ty(e){return(e=e[Kv])instanceof qv?e:null}var ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(e){return"function"===typeof e?e:(e[ny]||(e[ny]=function(t){return e.handleEvent(t)}),e[ny])}function iy(){tv.call(this),this.i=new qv(this),this.P=this,this.I=null}function ay(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mv(t,e);else if(t instanceof Mv)t.target=t.target||e;else{var i=t;mv(t=new Mv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=oy(o,r,!0,t)&&i}if(i=oy(o=t.g=e,r,!0,t)&&i,i=oy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=oy(o=t.g=n[a],r,!1,t)&&i}function oy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Hv(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ev(iy,tv),iy.prototype[Uv]=!0,iy.prototype.removeEventListener=function(e,t,n,r){Xv(this,e,t,n,r)},iy.prototype.M=function(){if(iy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bv(n[r]);delete t.g[e],t.h--}}this.I=null},iy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},iy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var sy=Hp.JSON.stringify;function uy(){var e=yy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ly,cy=function(){function e(){Ot(this,e),this.h=this.g=null}return Lt(e,[{key:"add",value:function(e,t){var n=hy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hy=new(function(){function e(t,n){Ot(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new fy}),(function(e){return e.reset()})),fy=function(){function e(){Ot(this,e),this.next=this.g=this.h=null}return Lt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function dy(e){Hp.setTimeout((function(){throw e}),0)}function py(e,t){ly||function(){var e=Hp.Promise.resolve(void 0);ly=function(){e.then(my)}}(),vy||(ly(),vy=!0),yy.add(e,t)}var vy=!1,yy=new cy;function my(){for(var e;e=uy();){try{e.h.call(e.g)}catch(n){dy(n)}var t=hy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vy=!1}function gy(e,t){iy.call(this),this.h=e||1,this.g=t||Hp,this.j=Jp(this.kb,this),this.l=Date.now()}function ky(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function by(e,t,n){if("function"===typeof e)n&&(e=Jp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Hp.setTimeout(e,t||0)}function _y(e){e.g=by((function(){e.g=null,e.i&&(e.i=!1,_y(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ev(gy,iy),(Vp=gy.prototype).da=!1,Vp.S=null,Vp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ay(this,"tick"),this.da&&(ky(this),this.start()))}},Vp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vp.M=function(){gy.Z.M.call(this),ky(this),delete this.g};var wy=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:_y(this)}},{key:"M",value:function(){xn(wn(n.prototype),"M",this).call(this),this.g&&(Hp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tv);function Ey(e){tv.call(this),this.h=e,this.g={}}ev(Ey,tv);var xy=[];function Sy(e,t,n,r){Array.isArray(n)||(n&&(xy[0]=n.toString()),n=xy);for(var i=0;i<n.length;i++){var a=Qv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Cy(e){pv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Jv(e)}),e),e.g={}}function Ty(){this.g=!0}function Iy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return sy(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ey.prototype.M=function(){Ey.Z.M.call(this),Cy(this)},Ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ty.prototype.Aa=function(){this.g=!1},Ty.prototype.info=function(){};var Ny={},Ry=null;function Py(){return Ry=Ry||new iy}function Ay(e){Mv.call(this,Ny.Ma,e)}function Oy(e){var t=Py();ay(t,new Ay(t,e))}function Dy(e,t){Mv.call(this,Ny.STAT_EVENT,e),this.stat=t}function Ly(e){var t=Py();ay(t,new Dy(t,e))}function My(e,t){Mv.call(this,Ny.Na,e),this.size=t}function Fy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Hp.setTimeout((function(){e()}),t)}Ny.Ma="serverreachability",ev(Ay,Mv),Ny.STAT_EVENT="statevent",ev(Dy,Mv),Ny.Na="timingevent",ev(My,Mv);var jy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Uy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vy(){}function zy(e){return e.h||(e.h=e.i())}function By(){}Vy.prototype.h=null;var qy,Hy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wy(){Mv.call(this,"d")}function Ky(){Mv.call(this,"c")}function Gy(){}function Qy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ey(this),this.P=$y,e=Ev?125:void 0,this.W=new gy(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yy}function Yy(){this.i=null,this.g="",this.h=!1}ev(Wy,Mv),ev(Ky,Mv),ev(Gy,Vy),Gy.prototype.g=function(){return new XMLHttpRequest},Gy.prototype.i=function(){return{}},qy=new Gy;var $y=45e3,Xy={},Jy={};function Zy(e,t,n){e.K=1,e.v=wm(ym(t)),e.s=n,e.U=!0,em(e,null)}function em(e,t){e.F=Date.now(),im(e),e.A=ym(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Lm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Yy,e.g=Fg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new wy(Jp(e.Ia,e,e.g),e.O)),Sy(e.V,e.g,"readystatechange",e.gb),t=e.H?vv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Oy(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function tm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function nm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=rm(e,n))==Jy){4==t&&(e.o=4,Ly(14),i=!1),Iy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xy){e.o=4,Ly(15),Iy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Iy(e.j,e.m,r,null),lm(e,r)}tm(e)&&r!=Jy&&r!=Xy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ly(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ng(t),t.L=!0,Ly(11))):(Iy(e.j,e.m,n,"[Invalid Chunked Response]"),um(e),sm(e))}function rm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jy:(n=Number(t.substring(n,r)),isNaN(n)?Xy:(r+=1)+n>t.length?Jy:(t=t.substr(r,n),e.C=r+n,t))}function im(e){e.Y=Date.now()+e.P,am(e,e.P)}function am(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fy(Jp(e.eb,e),t)}function om(e){e.B&&(Hp.clearTimeout(e.B),e.B=null)}function sm(e){0==e.l.G||e.I||Ag(e.l,e)}function um(e){om(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ky(e.W),Cy(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qm(n.i,e)))if(n.I=e.N,!e.J&&qm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pg(n),bg(n)}Ig(n),Ly(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fy(Jp(n.ab,n),6e3));if(1>=Bm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Dg(n,11)}else if((e.J||n.g==e)&&Pg(n),!sv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(cv(c,"spdy")||cv(c,"quic")||cv(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Hm(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,_m(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Mg(r,r.H?r.la:null,r.W),d.J){Wm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(om(p),im(p)),r.g=d}else Tg(r);0<n.l.length&&Eg(n)}else"stop"!=a[0]&&"close"!=a[0]||Dg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Dg(n,7):kg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Oy(4)}catch(a){}}function cm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Kp(e)||"string"===typeof e)iv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Kp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Kp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function hm(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hm)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function fm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];dm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)dm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function dm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Vp=Qy.prototype).setTimeout=function(e){this.P=e},Vp.gb=function(e){e=e.target;var t=this.L;t&&3==pg(e)?t.l():this.Ia(e)},Vp.Ia=function(e){try{if(e==this.g)e:{var t=pg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ev||this.g&&(this.h.h||this.g.ga()||vg(this.g)))){this.I||4!=t||7==n||Oy(8==n||0>=r?3:2),om(this);var i=this.g.ba();this.N=i;t:if(tm(this)){var a=vg(this.g);e="";var o=a.length,s=4==pg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){um(this),sm(this);var u="";break t}this.h.i=new Hp.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sv(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ly(12),um(this),sm(this);break e}Iy(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lm(this,i)}this.U?(nm(this,t,u),Ev&&this.i&&3==t&&(Sy(this.V,this.W,"tick",this.fb),this.W.start())):(Iy(this.j,this.m,u,null),lm(this,u)),4==t&&um(this),this.i&&!this.I&&(4==t?Ag(this.l,this):(this.i=!1,im(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Ly(12)):(this.o=0,Ly(13)),um(this),sm(this)}}}catch(t){}},Vp.fb=function(){if(this.g){var e=pg(this.g),t=this.g.ga();this.C<t.length&&(om(this),nm(this,e,t),this.i&&4!=e&&im(this))}},Vp.cancel=function(){this.I=!0,um(this)},Vp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Oy(3),Ly(17)),um(this),this.o=2,sm(this)):am(this,this.Y-e)},(Vp=hm.prototype).R=function(){fm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Vp.T=function(){return fm(this),this.g.concat()},Vp.get=function(e,t){return dm(this.h,e)?this.h[e]:t},Vp.set=function(e,t){dm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Vp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var pm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vm(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof vm){this.g=void 0!==t?t:e.g,mm(this,e.j),this.s=e.s,gm(this,e.i),km(this,e.m),this.l=e.l,t=e.h;var n=new Pm;n.i=t.i,t.g&&(n.g=new hm(t.g),n.h=t.h),bm(this,n),this.o=e.o}else e&&(n=String(e).match(pm))?(this.g=!!t,mm(this,n[1]||"",!0),this.s=Em(n[2]||""),gm(this,n[3]||"",!0),km(this,n[4]),this.l=Em(n[5]||"",!0),bm(this,n[6]||"",!0),this.o=Em(n[7]||"")):(this.g=!!t,this.h=new Pm(null,this.g))}function ym(e){return new vm(e)}function mm(e,t,n){e.j=n?Em(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gm(e,t,n){e.i=n?Em(t,!0):t}function km(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bm(e,t,n){t instanceof Pm?(e.h=t,function(e,t){t&&!e.j&&(Am(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Om(this,t),Lm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xm(t,Nm)),e.h=new Pm(t,e.g))}function _m(e,t,n){e.h.set(t,n)}function wm(e){return _m(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Em(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xm(t,Cm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xm(t,Cm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xm(n,"/"==n.charAt(0)?Im:Tm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xm(n,Rm)),e.join("")};var Cm=/[#\/\?@]/g,Tm=/[#\?:]/g,Im=/[#\?]/g,Nm=/[#\?@]/g,Rm=/#/g;function Pm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Am(e){e.g||(e.g=new hm,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Om(e,t){Am(e),t=Mm(e,t),dm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,dm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&fm(e)))}function Dm(e,t){return Am(e),t=Mm(e,t),dm(e.g.h,t)}function Lm(e,t,n){Om(e,t),0<n.length&&(e.i=null,e.g.set(Mm(e,t),ov(n)),e.h+=n.length)}function Mm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vp=Pm.prototype).add=function(e,t){Am(this),this.i=null,e=Mm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vp.forEach=function(e,t){Am(this),this.g.forEach((function(n,r){iv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Vp.T=function(){Am(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vp.R=function(e){Am(this);var t=[];if("string"===typeof e)Dm(this,e)&&(t=av(t,this.g.get(Mm(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=av(t,e[n])}return t},Vp.set=function(e,t){return Am(this),this.i=null,Dm(this,e=Mm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Vp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Fm=Lt((function e(t,n){Ot(this,e),this.h=t,this.g=n}));function jm(e){this.l=e||Vm,Hp.PerformanceNavigationTiming?e=0<(e=Hp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Hp.g&&Hp.g.Ea&&Hp.g.Ea()&&Hp.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Um,Vm=10;function zm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bm(e){return e.h?1:e.g?e.g.size:0}function qm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hm(e,t){e.g?e.g.add(t):e.h=t}function Wm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Km(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Kr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ov(e.i)}function Gm(){}function Qm(){this.g=new Gm}function Ym(e,t,n){var r=n||"";try{cm(e,(function(e,n){var i=e;Gp(e)&&(i=sy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(mT){throw t.push(r+"type="+encodeURIComponent("_badmap")),mT}}function $m(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xm(e){this.l=e.$b||null,this.j=e.ib||!1}function Jm(e,t){iy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jm.prototype.cancel=function(){if(this.i=Km(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Kr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Gm.prototype.stringify=function(e){return Hp.JSON.stringify(e,void 0)},Gm.prototype.parse=function(e){return Hp.JSON.parse(e,void 0)},ev(Xm,Vy),Xm.prototype.g=function(){return new Jm(this.l,this.j)},Xm.prototype.i=(Um={},function(){return Um}),ev(Jm,iy);var Zm=0;function eg(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ng(e)}function ng(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vp=Jm.prototype).open=function(e,t){if(this.readyState!=Zm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ng(this)},Vp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Hp).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Vp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tg(this)),this.readyState=Zm},Vp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ng(this)),this.g&&(this.readyState=3,ng(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Hp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eg(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Vp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tg(this):ng(this),3==this.readyState&&eg(this)}},Vp.Ua=function(e){this.g&&(this.response=this.responseText=e,tg(this))},Vp.Ta=function(e){this.g&&(this.response=e,tg(this))},Vp.ha=function(){this.g&&tg(this)},Vp.setRequestHeader=function(e,t){this.v.append(e,t)},Vp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rg=Hp.JSON.parse;function ig(e){iy.call(this),this.headers=new hm,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ag,this.K=this.L=!1}ev(ig,iy);var ag="",og=/^https?$/i,sg=["POST","PUT"];function ug(e){return"content-type"==e.toLowerCase()}function lg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cg(e),fg(e)}function cg(e){e.D||(e.D=!0,ay(e,"complete"),ay(e,"error"))}function hg(e){if(e.h&&"undefined"!=typeof qp&&(!e.C[1]||4!=pg(e)||2!=e.ba()))if(e.v&&4==pg(e))by(e.Fa,0,e);else if(ay(e,"readystatechange"),4==pg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(pm)[1]||null;if(!a&&Hp.self&&Hp.self.location){var o=Hp.self.location.protocol;a=o.substr(0,o.length-1)}i=!og.test(a?a.toLowerCase():"")}t=i}if(t)ay(e,"complete"),ay(e,"success");else{e.m=6;try{var s=2<pg(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",cg(e)}}finally{fg(e)}}}function fg(e,t){if(e.g){dg(e);var n=e.g,r=e.C[0]?Wp:null;e.g=null,e.C=null,t||ay(e,"ready");try{n.onreadystatechange=r}catch(mT){}}}function dg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Hp.clearTimeout(e.A),e.A=null)}function pg(e){return e.g?e.g.readyState:0}function vg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ag:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return pv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_m(e,t,n))}function mg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gg(e){this.za=0,this.l=[],this.h=new Ty,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mg("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mg("baseRetryDelayMs",5e3,e),this.$a=mg("retryDelaySeedMs",1e4,e),this.Ya=mg("forwardChannelMaxRetries",2,e),this.ra=mg("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jm(e&&e.concurrentRequestLimit),this.Ca=new Qm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function kg(e){if(_g(e),3==e.G){var t=e.V++,n=ym(e.F);_m(n,"SID",e.J),_m(n,"RID",t),_m(n,"TYPE","terminate"),Sg(e,n),(t=new Qy(e,e.h,t,void 0)).K=2,t.v=wm(ym(n)),n=!1,Hp.navigator&&Hp.navigator.sendBeacon&&(n=Hp.navigator.sendBeacon(t.v.toString(),"")),!n&&Hp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),im(t)}Lg(e)}function bg(e){e.g&&(Ng(e),e.g.cancel(),e.g=null)}function _g(e){bg(e),e.u&&(Hp.clearTimeout(e.u),e.u=null),Pg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Hp.clearTimeout(e.m),e.m=null)}function wg(e,t){e.l.push(new Fm(e.Za++,t)),3==e.G&&Eg(e)}function Eg(e){zm(e.i)||e.m||(e.m=!0,py(e.Ha,e),e.C=0)}function xg(e,t){var n;n=t?t.m:e.V++;var r=ym(e.F);_m(r,"SID",e.J),_m(r,"RID",n),_m(r,"AID",e.U),Sg(e,r),e.o&&e.s&&yg(r,e.o,e.s),n=new Qy(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Cg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Hm(e.i,n),Zy(n,r,t)}function Sg(e,t){e.j&&cm({},(function(e,n){_m(t,n,e)}))}function Cg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jp(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ym(c,o,"req"+l+"_")}catch(hk){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Tg(e){e.g||e.u||(e.Y=1,py(e.Ga,e),e.A=0)}function Ig(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Fy(Jp(e.Ga,e),Og(e,e.A)),e.A++,!0)}function Ng(e){null!=e.B&&(Hp.clearTimeout(e.B),e.B=null)}function Rg(e){e.g=new Qy(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ym(e.oa);_m(t,"RID","rpc"),_m(t,"SID",e.J),_m(t,"CI",e.N?"0":"1"),_m(t,"AID",e.U),Sg(e,t),_m(t,"TYPE","xmlhttp"),e.o&&e.s&&yg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=wm(ym(t)),n.s=null,n.U=!0,em(n,e)}function Pg(e){null!=e.v&&(Hp.clearTimeout(e.v),e.v=null)}function Ag(e,t){var n=null;if(e.g==t){Pg(e),Ng(e),e.g=null;var r=2}else{if(!qm(e.i,t))return;n=t.D,Wm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ay(r=Py(),new My(r,n,t,i)),Eg(e)}else Tg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Bm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Fy(Jp(e.Ha,e,t),Og(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ig(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dg(e,5);break;case 4:Dg(e,10);break;case 3:Dg(e,6);break;default:Dg(e,2)}}function Og(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Dg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jp(e.jb,e);n||(n=new vm("//www.google.com/images/cleardot.gif"),Hp.location&&"http"==Hp.location.protocol||mm(n,"https"),wm(n)),function(e,t){var n=new Ty;if(Hp.Image){var r=new Image;r.onload=Zp($m,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zp($m,n,r,"TestLoadImage: error",!1,t),r.onabort=Zp($m,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zp($m,n,r,"TestLoadImage: timeout",!1,t),Hp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ly(2);e.G=0,e.j&&e.j.va(t),Lg(e),_g(e)}function Lg(e){e.G=0,e.I=-1,e.j&&(0==Km(e.i).length&&0==e.l.length||(e.i.i.length=0,ov(e.l),e.l.length=0),e.j.ua())}function Mg(e,t,n){var r=function(e){return e instanceof vm?ym(e):new vm(e,void 0)}(n);if(""!=r.i)t&&gm(r,t+"."+r.i),km(r,r.m);else{var i=Hp.location;r=function(e,t,n,r){var i=new vm(null,void 0);return e&&mm(i,e),t&&gm(i,t),n&&km(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&pv(e.aa,(function(e,t){_m(r,t,e)})),t=e.D,n=e.sa,t&&n&&_m(r,t,n),_m(r,"VER",e.ma),Sg(e,r),r}function Fg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ig(new Xm({ib:!0})):new ig(e.qa)).L=e.H,t}function jg(){}function Ug(){if(_v&&!(10<=Number(Dv)))throw Error("Environmental error: no available transport.")}function Vg(e,t){iy.call(this),this.g=new gg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!sv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qg(this)}function zg(e){Wy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bg(){Ky.call(this),this.status=1}function qg(e){this.g=e}(Vp=ig.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qy.g(),this.C=this.u?zy(this.u):zy(qy),this.g.onreadystatechange=Jp(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void lg(this,a)}e=n||"";var i=new hm(this.headers);r&&cm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ug,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Hp.FormData&&e instanceof Hp.FormData,!(0<=rv(sg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dg(this),0<this.B&&((this.K=function(e){return _v&&Av()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jp(this.pa,this)):this.A=by(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){lg(this,a)}},Vp.pa=function(){"undefined"!=typeof qp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ay(this,"timeout"),this.abort(8))},Vp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ay(this,"complete"),ay(this,"abort"),fg(this))},Vp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fg(this,!0)),ig.Z.M.call(this)},Vp.Fa=function(){this.s||(this.F||this.v||this.l?hg(this):this.cb())},Vp.cb=function(){hg(this)},Vp.ba=function(){try{return 2<pg(this)?this.g.status:-1}catch(Um){return-1}},Vp.ga=function(){try{return this.g?this.g.responseText:""}catch(Um){return""}},Vp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rg(t)}},Vp.Da=function(){return this.m},Vp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vp=gg.prototype).ma=8,Vp.G=1,Vp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Vp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?mv(n=vv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Cg(this,t,r),_m(i=ym(this.F),"RID",e),_m(i,"CVER",22),this.D&&_m(i,"X-HTTP-Session-Id",this.D),Sg(this,i),this.o&&n&&yg(i,this.o,n),Hm(this.i,t),this.Ra&&_m(i,"TYPE","init"),this.ja?(_m(i,"$req",r),_m(i,"SID","null"),t.$=!0,Zy(t,i,null)):Zy(t,i,r),this.G=2}}else 3==this.G&&(e?xg(this,e):0==this.l.length||zm(this.i)||xg(this))},Vp.Ga=function(){if(this.u=null,Rg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fy(Jp(this.bb,this),e)}},Vp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ly(10),bg(this),Rg(this))},Vp.ab=function(){null!=this.v&&(this.v=null,bg(this),Ig(this),Ly(19))},Vp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ly(2)):(this.h.info("Failed to ping google.com"),Ly(1))},(Vp=jg.prototype).xa=function(){},Vp.wa=function(){},Vp.va=function(){},Vp.ua=function(){},Vp.Oa=function(){},Ug.prototype.g=function(e,t){return new Vg(e,t)},ev(Vg,iy),Vg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),py(Jp(e.hb,e,t))),Ly(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mg(e,null,e.W),Eg(e)},Vg.prototype.close=function(){kg(this.g)},Vg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,wg(this.g,t)}else this.v?((t={}).__data__=sy(e),wg(this.g,t)):wg(this.g,e)},Vg.prototype.M=function(){this.g.j=null,delete this.j,kg(this.g),delete this.g,Vg.Z.M.call(this)},ev(zg,Wy),ev(Bg,Ky),ev(qg,jg),qg.prototype.xa=function(){ay(this.g,"a")},qg.prototype.wa=function(e){ay(this.g,new zg(e))},qg.prototype.va=function(e){ay(this.g,new Bg(e))},qg.prototype.ua=function(){ay(this.g,"b")},Ug.prototype.createWebChannel=Ug.prototype.g,Vg.prototype.send=Vg.prototype.u,Vg.prototype.open=Vg.prototype.m,Vg.prototype.close=Vg.prototype.close,jy.NO_ERROR=0,jy.TIMEOUT=8,jy.HTTP_ERROR=6,Uy.COMPLETE="complete",By.EventType=Hy,Hy.OPEN="a",Hy.CLOSE="b",Hy.ERROR="c",Hy.MESSAGE="d",iy.prototype.listen=iy.prototype.N,ig.prototype.listenOnce=ig.prototype.O,ig.prototype.getLastError=ig.prototype.La,ig.prototype.getLastErrorCode=ig.prototype.Da,ig.prototype.getStatus=ig.prototype.ba,ig.prototype.getResponseJson=ig.prototype.Qa,ig.prototype.getResponseText=ig.prototype.ga,ig.prototype.send=ig.prototype.ea;var Hg=Bp.createWebChannelTransport=function(){return new Ug},Wg=Bp.getStatEventTarget=function(){return Py()},Kg=Bp.ErrorCode=jy,Gg=Bp.EventType=Uy,Qg=Bp.Event=Ny,Yg=Bp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$g=Bp.FetchXmlHttpFactory=Xm,Xg=Bp.WebChannel=By,Jg=Bp.XhrIo=ig,Zg="@firebase/firestore",ek=function(){function e(t){Ot(this,e),this.uid=t}return Lt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ek.UNAUTHENTICATED=new ek(null),ek.GOOGLE_CREDENTIALS=new ek("google-credentials-uid"),ek.FIRST_PARTY=new ek("first-party-uid"),ek.MOCK_USER=new ek("mock-user");var tk="9.8.0",nk=new Gi("@firebase/firestore");function rk(){return nk.logLevel}function ik(e){if(nk.logLevel<=Vi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);nk.debug.apply(nk,["Firestore (".concat(tk,"): ").concat(e)].concat(At(i)))}}function ak(e){if(nk.logLevel<=Vi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);nk.error.apply(nk,["Firestore (".concat(tk,"): ").concat(e)].concat(At(i)))}}function ok(e){if(nk.logLevel<=Vi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);nk.warn.apply(nk,["Firestore (".concat(tk,"): ").concat(e)].concat(At(i)))}}function sk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function uk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(tk,") INTERNAL ASSERTION FAILED: ")+e;throw ak(t),new Error(t)}function lk(e,t){e||uk()}function ck(e,t){return e}var hk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fk=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lt(n)}(pi),dk=Lt((function e(){var t=this;Ot(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),pk=Lt((function e(t,n){Ot(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),vk=function(){function e(){Ot(this,e)}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ek.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yk=function(){function e(t){Ot(this,e),this.t=t,this.currentUser=ek.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new dk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new dk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ik("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ik("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new dk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ik("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lk("string"==typeof n.accessToken),new pk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lk(null===e||"string"==typeof e),new ek(e)}}]),e}(),mk=Lt((function e(t,n,r){Ot(this,e),this.type="FirstParty",this.user=ek.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),gk=function(){function e(t,n,r){Ot(this,e),this.h=t,this.l=n,this.m=r}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(new mk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ek.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),kk=Lt((function e(t){Ot(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),bk=function(){function e(t){Ot(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ik("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ik("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ik("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ik("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lk("string"==typeof t.token),e.p=t.token,new kk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_k=function(){function e(t,n){var r=this;Ot(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Lt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function wk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_k.A=-1;var Ek=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=wk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function xk(e,t){return e<t?-1:e>t?1:0}function Sk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ck=function(){function e(t,n){if(Ot(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fk(hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fk(hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fk(hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fk(hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xk(this.nanoseconds,e.nanoseconds):xk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Tk=function(){function e(t){Ot(this,e),this.timestamp=t}return Lt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ck(0,0))}},{key:"max",value:function(){return new e(new Ck(253402300799,999999999))}}]),e}();function Ik(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Pk=function(){function e(t,n,r){Ot(this,e),void 0===n?n=0:n>t.length&&uk(),void 0===r?r=t.length-n:r>t.length-n&&uk(),this.segments=t,this.offset=n,this.len=r}return Lt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ak=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new fk(hk.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,At(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pk),Ok=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dk=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ok.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new fk(hk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new fk(hk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new fk(hk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new fk(hk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Pk),Lk=function(){function e(t){Ot(this,e),this.fields=t,t.sort(Dk.comparator)}return Lt(e,[{key:"covers",value:function(e){var t,n=Kr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Sk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Mk=function(e){function t(e){Ot(this,t),this.binaryString=e}return Lt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mk.EMPTY_BYTE_STRING=new Mk("");var Fk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jk(e){if(lk(!!e),"string"==typeof e){var t=0,n=Fk.exec(e);if(lk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uk(e.seconds),nanos:Uk(e.nanos)}}function Uk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vk(e){return"string"==typeof e?Mk.fromBase64String(e):Mk.fromUint8Array(e)}function zk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bk(e){var t=e.mapValue.fields.__previous_value__;return zk(t)?Bk(t):t}function qk(e){var t=jk(e.mapValue.fields.__local_write_time__.timestampValue);return new Ck(t.seconds,t.nanos)}var Hk=Lt((function e(t,n,r,i,a,o,s,u){Ot(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Wk=function(){function e(t,n){Ot(this,e),this.projectId=t,this.database=n||"(default)"}return Lt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Kk(e){return null==e}function Gk(e){return 0===e&&1/e==-1/0}function Qk(e){return"number"==typeof e&&Number.isInteger(e)&&!Gk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Yk=function(){function e(t){Ot(this,e),this.path=t}return Lt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ak.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ak.fromString(t))}},{key:"fromName",value:function(t){return new e(Ak.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ak.emptyPath())}},{key:"comparator",value:function(e,t){return Ak.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ak(t.slice()))}}]),e}(),$k={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zk(e)?4:hb(e)?9007199254740991:10:uk()}function Jk(e,t){if(e===t)return!0;var n=Xk(e);if(n!==Xk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qk(e).isEqual(qk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jk(e.timestampValue),r=jk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vk(e.bytesValue).isEqual(Vk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uk(e.geoPointValue.latitude)===Uk(t.geoPointValue.latitude)&&Uk(e.geoPointValue.longitude)===Uk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uk(e.integerValue)===Uk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uk(e.doubleValue),r=Uk(t.doubleValue);return n===r?Gk(n)===Gk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Sk(e.arrayValue.values||[],t.arrayValue.values||[],Jk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ik(n)!==Ik(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jk(n[i],r[i])))return!1;return!0}(e,t);default:return uk()}}function Zk(e,t){return void 0!==(e.values||[]).find((function(e){return Jk(e,t)}))}function eb(e,t){if(e===t)return 0;var n=Xk(e),r=Xk(t);if(n!==r)return xk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uk(e.integerValue||e.doubleValue),r=Uk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tb(e.timestampValue,t.timestampValue);case 4:return tb(qk(e),qk(t));case 5:return xk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vk(e),r=Vk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xk(n[i],r[i]);if(0!==a)return a}return xk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xk(Uk(e.latitude),Uk(t.latitude));return 0!==n?n:xk(Uk(e.longitude),Uk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=eb(n[i],r[i]);if(a)return a}return xk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===$k.mapValue&&t===$k.mapValue)return 0;if(e===$k.mapValue)return 1;if(t===$k.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=xk(r[o],a[o]);if(0!==s)return s;var u=eb(n[r[o]],i[a[o]]);if(0!==u)return u}return xk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw uk()}}function tb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xk(e,t);var n=jk(e),r=jk(t),i=xk(n.seconds,r.seconds);return 0!==i?i:xk(n.nanos,r.nanos)}function nb(e){return rb(e)}function rb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Kr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=rb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Kr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(rb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):uk();var t,n}function ib(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ab(e){return!!e&&"integerValue"in e}function ob(e){return!!e&&"arrayValue"in e}function sb(e){return!!e&&"nullValue"in e}function ub(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lb(e){return!!e&&"mapValue"in e}function cb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Nk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=cb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=cb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function hb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var fb=function(){function e(t){Ot(this,e),this.value=t}return Lt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!lb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cb(t)}},{key:"setAll",value:function(e){var t=this,n=Dk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=cb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());lb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Jk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];lb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Nk(t,(function(t,n){return e[t]=n}));var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(cb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function db(e){var t=[];return Nk(e.fields,(function(e,n){var r=new Dk([e]);if(lb(n)){var i=db(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Kr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Lk(t)}var pb=function(){function e(t,n,r,i,a,o){Ot(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Lt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=fb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=fb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Tk.min(),Tk.min(),fb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Tk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Tk.min(),fb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Tk.min(),fb.empty(),2)}}]),e}(),vb=Lt((function e(t,n,r,i){Ot(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));vb.UNKNOWN_ID=-1;function yb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Tk.fromTimestamp(1e9===r?new Ck(n+1,0):new Ck(n,r));return new gb(i,Yk.empty(),t)}function mb(e){return new gb(e.readTime,e.key,-1)}var gb=function(){function e(t,n,r){Ot(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Lt(e,null,[{key:"min",value:function(){return new e(Tk.min(),Yk.empty(),-1)}},{key:"max",value:function(){return new e(Tk.max(),Yk.empty(),-1)}}]),e}();function kb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yk.comparator(e.documentKey,t.documentKey))?n:xk(e.largestBatchId,t.largestBatchId)}var bb=function(){function e(t,n){Ot(this,e),this.comparator=t,this.root=n||wb.EMPTY}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _b(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _b(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!0)}}]),e}(),_b=function(){function e(t,n,r,i){Ot(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),wb=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw uk();if(this.right.isRed())throw uk();var e=this.left.check();if(e!==this.right.check())throw uk();return e+(this.isRed()?0:1)}}]),e}();wb.EMPTY=null,wb.RED=!0,wb.BLACK=!1,wb.EMPTY=new(function(){function e(){Ot(this,e),this.size=0}return Lt(e,[{key:"key",get:function(){throw uk()}},{key:"value",get:function(){throw uk()}},{key:"color",get:function(){throw uk()}},{key:"left",get:function(){throw uk()}},{key:"right",get:function(){throw uk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Eb=function(){function e(t){Ot(this,e),this.comparator=t,this.data=new bb(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xb=function(){function e(t){Ot(this,e),this.iter=t}return Lt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Sb=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function Cb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Sb(e,t,n,r,i,a,o)}function Tb(e){var t=ck(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+nb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Kk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return nb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return nb(e)})).join(",")),t.P=n}return t.P}function Ib(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Jk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qb(e.startAt,t.startAt)&&qb(e.endAt,t.endAt)}function Nb(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Rb=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(eb(t,this.value)):null!==t&&Xk(this.value)===Xk(t)&&this.v(eb(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return uk()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Pb(e,t,r):"array-contains"===t?new Lb(e,r):"in"===t?new Mb(e,r):"not-in"===t?new Fb(e,r):"array-contains-any"===t?new jb(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ab(e,n):new Ob(e,n)}}]),n}(function(){return Lt((function e(){Ot(this,e)}))}()),Pb=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,i)).key=Yk.fromName(i.referenceValue),a}return Lt(n,[{key:"matches",value:function(e){var t=Yk.comparator(e.key,this.key);return this.v(t)}}]),n}(Rb),Ab=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"in",r)).keys=Db("in",r),i}return Lt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rb),Ob=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"not-in",r)).keys=Db("not-in",r),i}return Lt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rb);function Db(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yk.fromName(e.referenceValue)}))}var Lb=function(e){Sn(n,e);var t=Rn(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ob(t)&&Zk(t.arrayValue,this.value)}}]),n}(Rb),Mb=function(e){Sn(n,e);var t=Rn(n);function n(e,r){return Ot(this,n),t.call(this,e,"in",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Zk(this.value.arrayValue,t)}}]),n}(Rb),Fb=function(e){Sn(n,e);var t=Rn(n);function n(e,r){return Ot(this,n),t.call(this,e,"not-in",r)}return Lt(n,[{key:"matches",value:function(e){if(Zk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Zk(this.value.arrayValue,t)}}]),n}(Rb),jb=function(e){Sn(n,e);var t=Rn(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains-any",r)}return Lt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ob(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Zk(t.value.arrayValue,e)}))}}]),n}(Rb),Ub=Lt((function e(t,n){Ot(this,e),this.position=t,this.inclusive=n})),Vb=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ot(this,e),this.field=t,this.dir=n}));function zb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Bb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yk.comparator(Yk.fromName(o.referenceValue),n.key):eb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jk(e.position[n],t.position[n]))return!1;return!0}var Hb=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Wb(e,t,n,r,i,a,o,s){return new Hb(e,t,n,r,i,a,o,s)}function Kb(e){return new Hb(e)}function Gb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qb(e){var t,n=Kr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Yb(e){return null!==e.collectionGroup}function $b(e){var t=ck(e);if(null===t.D){t.D=[];var n=Qb(t),r=Gb(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Vb(n)),t.D.push(new Vb(Dk.keyField(),"asc"));else{var i,a=!1,o=Kr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Vb(Dk.keyField(),u))}}}return t.D}function Xb(e){var t=ck(e);if(!t.C)if("F"===t.limitType)t.C=Cb(t.path,t.collectionGroup,$b(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Kr($b(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vb(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Ub(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Ub(t.startAt.position,t.startAt.inclusive):null;t.C=Cb(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Jb(e,t,n){return new Hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zb(e,t){return Ib(Xb(e),Xb(t))&&e.limitType===t.limitType}function e_(e){return"".concat(Tb(Xb(e)),"|lt:").concat(e.limitType)}function t_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(nb(t.value));var t})).join(", "),"]")),Kk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return nb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return nb(e)})).join(",")),"Target(".concat(t,")")}(Xb(e)),"; limitType=").concat(e.limitType,")")}function n_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Kr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Kr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$b(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$b(e),t))}(e,t)}function r_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function i_(e){return function(t,n){var r,i=!1,a=Kr($b(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=a_(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function a_(e,t,n){var r=e.field.isKeyField()?Yk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eb(r,i):uk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return uk()}}function o_(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gk(t)?"-0":t}}function s_(e){return{integerValue:""+e}}function u_(e,t){return Qk(t)?s_(t):o_(e,t)}var l_=Lt((function e(){Ot(this,e),this._=void 0}));function c_(e,t,n){return e instanceof d_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof p_?v_(e,t):e instanceof y_?m_(e,t):function(e,t){var n=f_(e,t),r=k_(n)+k_(e.k);return ab(n)&&ab(e.k)?s_(r):o_(e.M,r)}(e,t)}function h_(e,t,n){return e instanceof p_?v_(e,t):e instanceof y_?m_(e,t):n}function f_(e,t){return e instanceof g_?ab(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var d_=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n)}(l_),p_=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(l_);function v_(e,t){var n,r=b_(t),i=Kr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Jk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var y_=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(l_);function m_(e,t){var n,r=b_(t),i=Kr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Jk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var g_=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).M=e,i.k=r,i}return Lt(n)}(l_);function k_(e){return Uk(e.integerValue||e.doubleValue)}function b_(e){return ob(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var __=Lt((function e(t,n){Ot(this,e),this.version=t,this.transformResults=n})),w_=function(){function e(t,n){Ot(this,e),this.updateTime=t,this.exists=n}return Lt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function E_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var x_=Lt((function e(){Ot(this,e)}));function S_(e,t,n){e instanceof R_?function(e,t,n){var r=e.value.clone(),i=O_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof P_?function(e,t,n){if(E_(e.precondition,t)){var r=O_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(A_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function C_(e,t,n){e instanceof R_?function(e,t,n){if(E_(e.precondition,t)){var r=e.value.clone(),i=D_(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(N_(t),r).setHasLocalMutations()}}(e,t,n):e instanceof P_?function(e,t,n){if(E_(e.precondition,t)){var r=D_(e.fieldTransforms,n,t),i=t.data;i.setAll(A_(e)),i.setAll(r),t.convertToFoundDocument(N_(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){E_(e.precondition,t)&&t.convertToNoDocument(Tk.min())}(e,t)}function T_(e,t){var n,r=null,i=Kr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=f_(a.transform,o||null);null!=s&&(null==r&&(r=fb.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function I_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Sk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof p_&&t instanceof p_||e instanceof y_&&t instanceof y_?Sk(e.elements,t.elements,Jk):e instanceof g_&&t instanceof g_?Jk(e.k,t.k):e instanceof d_&&t instanceof d_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function N_(e){return e.isFoundDocument()?e.version:Tk.min()}var R_=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ot(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lt(n)}(x_),P_=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ot(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Lt(n)}(x_);function A_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function O_(e,t,n){var r=new Map;lk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,h_(o,s,n[i]))}return r}function D_(e,t,n){var r,i=new Map,a=Kr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,c_(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var L_,M_,F_=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Lt(n)}(x_),j_=function(e){Sn(n,e);var t=Rn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Lt(n)}(x_),U_=Lt((function e(t){Ot(this,e),this.count=t}));function V_(e){switch(e){default:return uk();case hk.CANCELLED:case hk.UNKNOWN:case hk.DEADLINE_EXCEEDED:case hk.RESOURCE_EXHAUSTED:case hk.INTERNAL:case hk.UNAVAILABLE:case hk.UNAUTHENTICATED:return!1;case hk.INVALID_ARGUMENT:case hk.NOT_FOUND:case hk.ALREADY_EXISTS:case hk.PERMISSION_DENIED:case hk.FAILED_PRECONDITION:case hk.ABORTED:case hk.OUT_OF_RANGE:case hk.UNIMPLEMENTED:case hk.DATA_LOSS:return!0}}function z_(e){if(void 0===e)return ak("GRPC error has no .code"),hk.UNKNOWN;switch(e){case L_.OK:return hk.OK;case L_.CANCELLED:return hk.CANCELLED;case L_.UNKNOWN:return hk.UNKNOWN;case L_.DEADLINE_EXCEEDED:return hk.DEADLINE_EXCEEDED;case L_.RESOURCE_EXHAUSTED:return hk.RESOURCE_EXHAUSTED;case L_.INTERNAL:return hk.INTERNAL;case L_.UNAVAILABLE:return hk.UNAVAILABLE;case L_.UNAUTHENTICATED:return hk.UNAUTHENTICATED;case L_.INVALID_ARGUMENT:return hk.INVALID_ARGUMENT;case L_.NOT_FOUND:return hk.NOT_FOUND;case L_.ALREADY_EXISTS:return hk.ALREADY_EXISTS;case L_.PERMISSION_DENIED:return hk.PERMISSION_DENIED;case L_.FAILED_PRECONDITION:return hk.FAILED_PRECONDITION;case L_.ABORTED:return hk.ABORTED;case L_.OUT_OF_RANGE:return hk.OUT_OF_RANGE;case L_.UNIMPLEMENTED:return hk.UNIMPLEMENTED;case L_.DATA_LOSS:return hk.DATA_LOSS;default:return uk()}}(M_=L_||(L_={}))[M_.OK=0]="OK",M_[M_.CANCELLED=1]="CANCELLED",M_[M_.UNKNOWN=2]="UNKNOWN",M_[M_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",M_[M_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",M_[M_.NOT_FOUND=5]="NOT_FOUND",M_[M_.ALREADY_EXISTS=6]="ALREADY_EXISTS",M_[M_.PERMISSION_DENIED=7]="PERMISSION_DENIED",M_[M_.UNAUTHENTICATED=16]="UNAUTHENTICATED",M_[M_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",M_[M_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",M_[M_.ABORTED=10]="ABORTED",M_[M_.OUT_OF_RANGE=11]="OUT_OF_RANGE",M_[M_.UNIMPLEMENTED=12]="UNIMPLEMENTED",M_[M_.INTERNAL=13]="INTERNAL",M_[M_.UNAVAILABLE=14]="UNAVAILABLE",M_[M_.DATA_LOSS=15]="DATA_LOSS";var B_=function(){function e(t,n){Ot(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Lt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Nk(this.inner,(function(t,n){var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Rk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),q_=new bb(Yk.comparator);function H_(){return q_}var W_=new bb(Yk.comparator);function K_(){for(var e=W_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function G_(){return new B_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Q_=new bb(Yk.comparator),Y_=new Eb(Yk.comparator);function $_(){for(var e=Y_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var X_=new Eb(xk);function J_(){return X_}var Z_=function(){function e(t,n,r,i,a){Ot(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ew.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Tk.min(),r,J_(),H_(),$_())}}]),e}(),ew=function(){function e(t,n,r,i,a){Ot(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Mk.EMPTY_BYTE_STRING,n,$_(),$_(),$_())}}]),e}(),tw=Lt((function e(t,n,r,i){Ot(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),nw=Lt((function e(t,n){Ot(this,e),this.targetId=t,this.$=n})),rw=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ot(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),iw=function(){function e(){Ot(this,e),this.B=0,this.L=sw(),this.U=Mk.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Lt(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=$_(),t=$_(),n=$_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:uk()}})),new ew(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=sw()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),aw=function(){function e(t){Ot(this,e),this.nt=t,this.st=new Map,this.it=H_(),this.rt=ow(),this.ot=new Eb(xk)}return Lt(e,[{key:"ut",value:function(e){var t,n=Kr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Kr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:uk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Nb(i))if(0===n){var a=new Yk(i.path);this.ct(t,a,pb.newNoDocument(a,Tk.min()))}else lk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Nb(a.target)){var o=new Yk(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,pb.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=$_();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Z_(e,n,this.ot,this.it,r);return this.it=H_(),this.rt=ow(),this.ot=new Eb(xk),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new iw,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Eb(xk),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ik("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new iw),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ow(){return new bb(Yk.comparator)}function sw(){return new bb(Yk.comparator)}var uw={asc:"ASCENDING",desc:"DESCENDING"},lw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cw=Lt((function e(t,n){Ot(this,e),this.databaseId=t,this.N=n}));function hw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fw(e,t){return e.N?t.toBase64():t.toUint8Array()}function dw(e,t){return hw(e,t.toTimestamp())}function pw(e){return lk(!!e),Tk.fromTimestamp(function(e){var t=jk(e);return new Ck(t.seconds,t.nanos)}(e))}function vw(e,t){return function(e){return new Ak(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yw(e){var t=Ak.fromString(e);return lk(Mw(t)),t}function mw(e,t){return vw(e.databaseId,t.path)}function gw(e,t){var n=yw(t);if(n.get(1)!==e.databaseId.projectId)throw new fk(hk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fk(hk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yk(ww(n))}function kw(e,t){return vw(e.databaseId,t)}function bw(e){var t=yw(e);return 4===t.length?Ak.emptyPath():ww(t)}function _w(e){return new Ak(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ww(e){return lk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ew(e,t,n){return{name:mw(e,t),fields:n.value.mapValue.fields}}function xw(e,t){var n;if(t instanceof R_)n={update:Ew(e,t.key,t.value)};else if(t instanceof F_)n={delete:mw(e,t.key)};else if(t instanceof P_)n={update:Ew(e,t.key,t.data),updateMask:Lw(t.fieldMask)};else{if(!(t instanceof j_))return uk();n={verify:mw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof d_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof p_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof y_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof g_)return{fieldPath:t.field.canonicalString(),increment:n.k};throw uk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:uk()}(e,t.precondition)),n}function Sw(e,t){return{documents:[kw(e,t.path)]}}function Cw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ub(e.value))return{unaryFilter:{field:Pw(e.field),op:"IS_NAN"}};if(sb(e.value))return{unaryFilter:{field:Pw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ub(e.value))return{unaryFilter:{field:Pw(e.field),op:"IS_NOT_NAN"}};if(sb(e.value))return{unaryFilter:{field:Pw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pw(e.field),op:Rw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Pw(e.field),direction:Nw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Kk(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Tw(e){var t=bw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Iw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Vb(Aw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Kk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ub(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Ub(n,t)}(n.endAt)),Wb(t,i,s,o,u,"F",l,c)}function Iw(e){return e?void 0!==e.unaryFilter?[Dw(e)]:void 0!==e.fieldFilter?[Ow(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Iw(e)})).reduce((function(e,t){return e.concat(t)})):uk():[]}function Nw(e){return uw[e]}function Rw(e){return lw[e]}function Pw(e){return{fieldPath:e.canonicalString()}}function Aw(e){return Dk.fromServerFormat(e.fieldPath)}function Ow(e){return Rb.create(Aw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return uk()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Aw(e.unaryFilter.field);return Rb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Aw(e.unaryFilter.field);return Rb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Aw(e.unaryFilter.field);return Rb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Aw(e.unaryFilter.field);return Rb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return uk()}}function Lw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Mw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Fw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),jw=([].concat(At(Fw),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Uw=([].concat(jw,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Vw=function(){function e(){Ot(this,e),this.onCommittedListeners=[]}return Lt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),zw=function(){function e(t){var n=this;Ot(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&uk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Kr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Bw(e){return"IndexedDbTransactionError"===e.name}var qw=function(){function e(t,n,r,i){Ot(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&S_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Kr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&C_(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Kr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&C_(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Tk.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Sk(this.mutations,e.mutations,(function(e,t){return I_(e,t)}))&&Sk(this.baseMutations,e.baseMutations,(function(e,t){return I_(e,t)}))}}]),e}(),Hw=function(){function e(t,n,r,i){Ot(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Lt(e,null,[{key:"from",value:function(t,n,r){lk(t.mutations.length===r.length);for(var i=Q_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ww=function(){function e(t,n){Ot(this,e),this.largestBatchId=t,this.mutation=n}return Lt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Kw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tk.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mk.EMPTY_BYTE_STRING;Ot(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Lt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Gw=Lt((function e(t){Ot(this,e),this.Jt=t}));function Qw(e){var t=Tw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jb(t,t.limit,"L"):t}var Yw=function(){function e(){Ot(this,e)}return Lt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Uk(e.integerValue));else if("doubleValue"in e){var n=Uk(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Gk(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Vk(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?hb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):uk()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Yk.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();Yw.fe=new Yw;var $w=function(){function e(){Ot(this,e),this.qe=new Xw}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),zw.resolve()}},{key:"getCollectionParents",value:function(e,t){return zw.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zw.resolve(null)}},{key:"getIndexType",value:function(e,t){return zw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zw.resolve(gb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zw.resolve()}}]),e}(),Xw=function(){function e(){Ot(this,e),this.index={}}return Lt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eb(Ak.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Eb(Ak.comparator)).toArray()}}]),e}();new Uint8Array(0);var Jw=function(){function e(t,n,r){Ot(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Jw.DEFAULT_COLLECTION_PERCENTILE=10,Jw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jw.DEFAULT=new Jw(41943040,Jw.DEFAULT_COLLECTION_PERCENTILE,Jw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jw.DISABLED=new Jw(-1,0,0);var Zw=function(){function e(t){Ot(this,e),this.mn=t}return Lt(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function eE(e){return tE.apply(this,arguments)}function tE(){return tE=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hk.FAILED_PRECONDITION&&t.message===Uw){e.next=2;break}throw t;case 2:ik("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}var nE=function(){function e(){Ot(this,e),this.changes=new B_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,pb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var rE=function(){function e(t,n,r){Ot(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Lt(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Kr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Kr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Yb(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Yk(t)).next((function(e){var t=K_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=K_();return this.indexManager.getCollectionParents(e,i).next((function(o){return zw.forEach(o,(function(o){var s=function(e,t){return new Hb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Kr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Kr(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,l=r.get(u);null==l&&(l=pb.newInvalidDocument(u),r=r.insert(u,l)),C_(s,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){n_(t,n)||(r=r.remove(e))})),r}))}}]),e}(),iE=function(){function e(t,n,r,i){Ot(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Lt(e,null,[{key:"Ys",value:function(t,n){var r,i=$_(),a=$_(),o=Kr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),aE=function(){function e(){Ot(this,e),this.Xs=!1}return Lt(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return zw.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Tk.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(rk()<=Vi.DEBUG&&ik("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),t_(t)),i.ri(e,o,t,yb(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Eb(i_(e));return t.forEach((function(t,r){n_(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return rk()<=Vi.DEBUG&&ik("QueryEngine","Using full collection scan to execute query:",t_(t)),this.Zs.Qs(e,t,gb.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),oE=function(){function e(t,n,r,i){Ot(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new bb(xk),this.ai=new B_((function(e){return Tb(e)}),Ib),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Lt(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new rE(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function sE(e,t,n,r){return new oE(e,t,n,r)}function uE(e,t){return lE.apply(this,arguments)}function lE(){return lE=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=$_(),u=Kr(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,h=Kr(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Kr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Kr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function cE(e,t){var n=ck(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function hE(e){var t=ck(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function fE(e,t){var n=ck(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Mk.EMPTY_BYTE_STRING,Tk.min()).withLastLimboFreeSnapshotVersion(Tk.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.fs.updateTargetData(e,l))}}));var s=H_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(dE(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Tk.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return zw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ui=i,e}))}function dE(e,t,n){var r=$_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=H_();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Tk.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ik("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function pE(e,t){var n=ck(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function vE(e,t){var n=ck(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,zw.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Kw(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function yE(e,t,n){return mE.apply(this,arguments)}function mE(){return mE=Wr(qr().mark((function e(t,n,r){var i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ck(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Bw(e.t1)){e.next=12;break}throw e.t1;case 12:ik("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mE.apply(this,arguments)}function gE(e,t,n){var r=ck(e),i=Tk.min(),a=$_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ck(e),i=r.ai.get(n);return void 0!==i?zw.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Xb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Tk.min(),n?a:$_())})).next((function(e){return kE(r,r_(t),e),{documents:e,_i:a}}))}))}function kE(e,t,n){var r=Tk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}var bE=function(){function e(t){Ot(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return zw.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:pw(n.createTime)}),zw.resolve()}},{key:"getNamedQuery",value:function(e,t){return zw.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Qw(e.bundledQuery),readTime:pw(e.readTime)}}(t)),zw.resolve()}}]),e}(),_E=function(){function e(){Ot(this,e),this.overlays=new bb(Yk.comparator),this.Ii=new Map}return Lt(e,[{key:"getOverlay",value:function(e,t){return zw.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),zw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),zw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=G_(),i=t.length+1,a=new Yk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return zw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new bb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=G_(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=G_(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return zw.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ww(t,n));var a=this.Ii.get(t);void 0===a&&(a=$_(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),wE=function(){function e(){Ot(this,e),this.Ti=new Eb(EE.Ei),this.Ai=new Eb(EE.Ri)}return Lt(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new EE(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new EE(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Yk(new Ak([])),r=new EE(n,e),i=new EE(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Yk(new Ak([])),n=new EE(t,e),r=new EE(t,e+1),i=$_();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new EE(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),EE=function(){function e(t,n){Ot(this,e),this.key=t,this.Ci=n}return Lt(e,null,[{key:"Ei",value:function(e,t){return Yk.comparator(e.key,t.key)||xk(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return xk(e.Ci,t.Ci)||Yk.comparator(e.key,t.key)}}]),e}(),xE=function(){function e(t,n){Ot(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Eb(EE.Ei)}return Lt(e,[{key:"checkEmpty",value:function(e){return zw.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new qw(i,t,n,r);this.Bs.push(a);var o,s=Kr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new EE(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return zw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zw.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return zw.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zw.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return zw.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new EE(t,0),i=new EE(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),zw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eb(xk);return t.forEach((function(e){var t=new EE(e,0),i=new EE(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),zw.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yk.isDocumentKey(i)||(i=i.child(""));var a=new EE(new Yk(i),0),o=new Eb(xk);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),zw.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lk(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return zw.forEach(t.mutations,(function(i){var a=new EE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new EE(t,0),r=this.Ni.firstAfterOrEqual(n);return zw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,zw.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),SE=function(){function e(t){Ot(this,e),this.$i=t,this.docs=new bb(Yk.comparator),this.size=0}return Lt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zw.resolve(n?n.document.mutableCopy():pb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=H_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():pb.newInvalidDocument(e))})),zw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=H_(),i=new Yk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||kb(mb(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return zw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){uk()}},{key:"Bi",value:function(e,t){return zw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new CE(this)}},{key:"getSize",value:function(e){return zw.resolve(this.size)}}]),e}(),CE=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).Kn=e,r}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),zw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(nE),TE=function(){function e(t){Ot(this,e),this.persistence=t,this.Li=new B_((function(e){return Tb(e)}),Ib),this.lastRemoteSnapshotVersion=Tk.min(),this.highestTargetId=0,this.Ui=0,this.qi=new wE,this.targetCount=0,this.Ki=Zw.gn()}return Lt(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),zw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zw.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),zw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),zw.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Zw(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,zw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),zw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,zw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return zw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),zw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),zw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return zw.resolve(n)}},{key:"containsKey",value:function(e,t){return zw.resolve(this.qi.containsKey(t))}}]),e}(),IE=function(){function e(t,n){var r=this;Ot(this,e),this.Gi={},this.overlays={},this.es=new _k(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new TE(this),this.indexManager=new $w,this.ds=new SE((function(e){return r.referenceDelegate.Qi(e)})),this.M=new Gw(n),this._s=new bE(this.M)}return Lt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _E,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new xE(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ik("MemoryPersistence","Starting transaction:",e);var i=new NE(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return zw.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),NE=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lt(n)}(Vw),RE=function(){function e(t){Ot(this,e),this.persistence=t,this.Hi=new wE,this.Ji=null}return Lt(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw uk()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),zw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),zw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),zw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zw.forEach(this.Xi,(function(r){var i=Yk.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Tk.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return zw.or([function(){return zw.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();var PE=function(){function e(){Ot(this,e),this.activeTargetIds=J_()}return Lt(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),AE=function(){function e(){Ot(this,e),this.Ur=new PE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new PE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),OE=function(){function e(){Ot(this,e)}return Lt(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),DE=function(){function e(){var t=this;Ot(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Lt(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){ik("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Kr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){ik("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Kr(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),LE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ME=function(){function e(t){Ot(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Lt(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),FE=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Lt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Jg;o.listenOnce(Gg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Kg.NO_ERROR:var t=o.getResponseJson();ik("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Kg.TIMEOUT:ik("Connection",'RPC "'+e+'" timed out'),a(new fk(hk.DEADLINE_EXCEEDED,"Request time out"));break;case Kg.HTTP_ERROR:var n=o.getStatus();if(ik("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hk).indexOf(t)>=0?t:hk.UNKNOWN}(r.status);a(new fk(s,r.message))}else a(new fk(hk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new fk(hk.UNAVAILABLE,"Connection failed."));break;default:uk()}}finally{ik("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Hg(),a=Wg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new $g({})),this.lo(o.initMessageHeaders,t,n),li()||hi()||ui().indexOf("Electron/")>=0||fi()||ui().indexOf("MSAppHost/")>=0||ci()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ik("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),l=!1,c=!1,h=new ME({Jr:function(e){c?ik("Connection","Not sending because WebChannel is closed:",e):(l||(ik("Connection","Opening WebChannel transport."),u.open(),l=!0),ik("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Xg.EventType.OPEN,(function(){c||ik("Connection","WebChannel transport opened.")})),f(u,Xg.EventType.CLOSE,(function(){c||(c=!0,ik("Connection","WebChannel transport closed"),h.ro())})),f(u,Xg.EventType.ERROR,(function(e){c||(c=!0,ok("Connection","WebChannel transport errored:",e),h.ro(new fk(hk.UNAVAILABLE,"The operation could not be completed")))})),f(u,Xg.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];lk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ik("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=L_[e];if(void 0!==t)return z_(t)}(a),s=i.message;void 0===o&&(o=hk.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),c=!0,h.ro(new fk(o,s)),u.close()}else ik("Connection","WebChannel received:",n),h.oo(n)}})),f(a,Qg.STAT_EVENT,(function(e){e.stat===Yg.PROXY?ik("Connection","Detected buffering proxy"):e.stat===Yg.NOPROXY&&ik("Connection","Detected no buffering proxy")})),setTimeout((function(){h.io()}),0),h}}]),n}(function(){function e(t){Ot(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lt(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);ik("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return ik("RestConnection","Received: ",e),e}),(function(t){throw ok("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=LE[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function jE(){return"undefined"!=typeof document?document:null}function UE(e){return new cw(e,!0)}var VE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ot(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Lt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ik("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),zE=function(){function e(t,n,r,i,a,o,s,u){Ot(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new VE(t,n)}return Lt(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===hk.RESOURCE_EXHAUSTED?(ak(n.toString()),ak("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===hk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new fk(hk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Wr(qr().mark((function t(){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return ik("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(ik("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),BE=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return Lt(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:uk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(lk(void 0===t||"string"==typeof t),Mk.fromBase64String(t||"")):(lk(void 0===t||t instanceof Uint8Array),Mk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?hk.UNKNOWN:z_(e.code);return new fk(t,e.message||"")}(o);n=new rw(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=gw(e,u.document.name),c=pw(u.document.updateTime),h=new fb({mapValue:{fields:u.document.fields}}),f=pb.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new tw(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=gw(e,v.document),m=v.readTime?pw(v.readTime):Tk.min(),g=pb.newNoDocument(y,m),k=v.removedTargetIds||[];n=new tw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var _=gw(e,b.document),w=b.removedTargetIds||[];n=new tw([],w,_,null)}else{if(!("filter"in t))return uk();t.filter;var E=t.filter;E.targetId;var x=E.count||0,S=new U_(x),C=E.targetId;n=new nw(C,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Tk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Tk.min():t.readTime?pw(t.readTime):Tk.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=_w(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Nb(r)?{documents:Sw(e,r)}:{query:Cw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fw(e,t.resumeToken):t.snapshotVersion.compareTo(Tk.min())>0&&(n.readTime=hw(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return uk()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=_w(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(zE),qE=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return Lt(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,xn(wn(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(lk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(lk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pw(e.updateTime):pw(t);return n.isEqual(Tk.min())&&(n=pw(t)),new __(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pw(e.commitTime);return this.listener.tu(n,t)}return lk(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=_w(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xw(t.M,e)}))};this.Lo(n)}}]),n}(zE),HE=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Lt(n,[{key:"iu",value:function(){if(this.su)throw new fk(hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.So.co(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fk(hk.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),s=a[0],u=a[1];return r.So._o(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fk(hk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Lt((function e(){Ot(this,e)}))}()),WE=function(){function e(t,n){Ot(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Lt(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(ak(t),this.uu=!1):ik("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),KE=Lt((function e(t,n,r,i,a){var o=this;Ot(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=rx(o),!e.t0){e.next=5;break}return ik("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ck(t)).wu.add(4),e.next=4,YE(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,GE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new WE(r,i)}));function GE(e){return QE.apply(this,arguments)}function QE(){return QE=Wr(qr().mark((function e(t){var n,r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rx(t)){e.next=18;break}n=Kr(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),QE.apply(this,arguments)}function YE(e){return $E.apply(this,arguments)}function $E(){return $E=Wr(qr().mark((function e(t){var n,r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Kr(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),$E.apply(this,arguments)}function XE(e,t){var n=ck(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),nx(n)?tx(n):Ax(n).Mo()&&ZE(n,t))}function JE(e,t){var n=ck(e),r=Ax(n);n._u.delete(t),r.Mo()&&ex(n,t),0===n._u.size&&(r.Mo()?r.$o():rx(n)&&n.yu.set("Unknown"))}function ZE(e,t){e.pu.Z(t.targetId),Ax(e).Ho(t)}function ex(e,t){e.pu.Z(t),Ax(e).Jo(t)}function tx(e){e.pu=new aw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Ax(e).start(),e.yu.au()}function nx(e){return rx(e)&&!Ax(e).ko()&&e._u.size>0}function rx(e){return 0===ck(e).wu.size}function ix(e){e.pu=void 0}function ax(e){return ox.apply(this,arguments)}function ox(){return ox=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){ZE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return ux=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ix(t),nx(t)?(t.yu.lu(n),tx(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function lx(e,t,n){return cx.apply(this,arguments)}function cx(){return cx=Wr(qr().mark((function e(t,n,r){var i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof rw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Wr(qr().mark((function e(t,n){var r,i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Kr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ik("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tw?t.pu.ut(n):n instanceof nw?t.pu._t(n):t.pu.ht(n),r.isEqual(Tk.min())){e.next=29;break}return e.prev=14,e.next=17,hE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Mk.EMPTY_BYTE_STRING,n.snapshotVersion)),ex(e,t);var r=new Kw(n.target,t,1,n.sequenceNumber);ZE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ik("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),cx.apply(this,arguments)}function hx(e,t,n){return fx.apply(this,arguments)}function fx(){return fx=Wr(qr().mark((function e(t,n,r){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bw(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,YE(t);case 5:t.yu.set("Offline"),r||(r=function(){return hE(t.localStore)}),t.asyncQueue.enqueueRetryable(Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ik("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,GE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function dx(e,t){return t().catch((function(n){return hx(e,n,t)}))}function px(e){return vx.apply(this,arguments)}function vx(){return vx=Wr(qr().mark((function e(t){var n,r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ck(t),r=Ox(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!yx(n)){e.next=19;break}return e.prev=3,e.next=6,pE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,mx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,hx(n,e.t0);case 17:e.next=2;break;case 19:gx(n)&&kx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),vx.apply(this,arguments)}function yx(e){return rx(e)&&e.du.length<10}function mx(e,t){e.du.push(t);var n=Ox(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function gx(e){return rx(e)&&!Ox(e).ko()&&e.du.length>0}function kx(e){Ox(e).start()}function bx(e){return _x.apply(this,arguments)}function _x(){return _x=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ox(t).nu();case 1:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function wx(e){return Ex.apply(this,arguments)}function Ex(){return Ex=Wr(qr().mark((function e(t){var n,r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ox(t),r=Kr(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function xx(e,t,n){return Sx.apply(this,arguments)}function Sx(){return Sx=Wr(qr().mark((function e(t,n,r){var i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Hw.from(i,n,r),e.next=3,dx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,px(t);case 5:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Cx(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ox(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!V_(i=n.code)||i===hk.ABORTED){e.next=7;break}return r=t.du.shift(),Ox(t).Fo(),e.next=5,dx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,px(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:gx(t)&&kx(t);case 5:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Ix(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ck(t)).asyncQueue.verifyOperationInProgress(),ik("RemoteStore","RemoteStore received new credentials"),i=rx(r),r.wu.add(3),e.next=6,YE(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,GE(r);case 12:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Rx(e,t){return Px.apply(this,arguments)}function Px(){return Px=Wr(qr().mark((function e(t,n){var r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ck(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,GE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,YE(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Ax(e){return e.Iu||(e.Iu=function(e,t,n){var r=ck(e);return r.iu(),new BE(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:ax.bind(null,e),eo:sx.bind(null,e),zo:lx.bind(null,e)}),e.mu.push(function(){var t=Wr(qr().mark((function t(n){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),nx(e)?tx(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ix(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Ox(e){return e.Tu||(e.Tu=function(e,t,n){var r=ck(e);return r.iu(),new qE(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:bx.bind(null,e),eo:Cx.bind(null,e),eu:wx.bind(null,e),tu:xx.bind(null,e)}),e.mu.push(function(){var t=Wr(qr().mark((function t(n){return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,px(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(ik("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Dx=function(){function e(t,n,r,i,a){Ot(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new dk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fk(hk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Lx(e,t){if(ak("AsyncQueue","".concat(t,": ").concat(e)),Bw(e))return new fk(hk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Mx=function(){function e(t){Ot(this,e),this.comparator=t?function(e,n){return t(e,n)||Yk.comparator(e.key,n.key)}:function(e,t){return Yk.comparator(e.key,t.key)},this.keyedMap=K_(),this.sortedSet=new bb(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fx=function(){function e(){Ot(this,e),this.Eu=new bb(Yk.comparator)}return Lt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):uk():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jx=function(){function e(t,n,r,i,a,o,s,u){Ot(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Lt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Mx.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ux=Lt((function e(){Ot(this,e),this.Ru=void 0,this.listeners=[]})),Vx=Lt((function e(){Ot(this,e),this.queries=new B_((function(e){return e_(e)}),Zb),this.onlineState="Unknown",this.bu=new Set}));function zx(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=Wr(qr().mark((function e(t,n){var r,i,a,o,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ck(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ux),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Lx(e.t0,"Initialization of query '".concat(t_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Gx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Bx.apply(this,arguments)}function qx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=Wr(qr().mark((function e(t,n){var r,i,a,o,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ck(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e,t){var n,r=ck(e),i=!1,a=Kr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=Kr(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Vu(o)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Ru=o}}}catch(h){a.e(h)}finally{a.f()}i&&Gx(r)}function Kx(e,t,n){var r=ck(e),i=r.queries.get(t);if(i){var a,o=Kr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Gx(e){e.bu.forEach((function(e){e.next()}))}var Qx=function(){function e(t,n,r){Ot(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Lt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Kr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=jx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}();var Yx=Lt((function e(t){Ot(this,e),this.key=t})),$x=Lt((function e(t){Ot(this,e),this.key=t})),Xx=function(){function e(t,n){Ot(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=$_(),this.mutatedKeys=$_(),this.Gu=i_(t),this.Qu=new Mx(this.Gu)}return Lt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Fx,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=n_(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Hu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Gu(h,u)>0||l&&n.Gu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return uk()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new jx(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=$_(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new $x(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Yx(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=$_();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return jx.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Jx=Lt((function e(t,n,r){Ot(this,e),this.query=t,this.targetId=n,this.view=r})),Zx=Lt((function e(t){Ot(this,e),this.key=t,this.na=!1})),eS=function(){function e(t,n,r,i,a,o){Ot(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new B_((function(e){return e_(e)}),Zb),this.ra=new Map,this.oa=new Set,this.ua=new bb(Yk.comparator),this.aa=new Map,this.ca=new wE,this.ha={},this.la=new Map,this.fa=Zw.yn(),this.onlineState="Unknown",this.da=void 0}return Lt(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=Wr(qr().mark((function e(t,n){var r,i,a,o,s,u;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RS(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,vE(r.localStore,Xb(n));case 8:return s=e.sent,r.isPrimaryClient&&XE(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,rS(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t,n,r){return iS.apply(this,arguments)}function iS(){return iS=Wr(qr().mark((function e(t,n,r,i){var a,o,s,u,l,c;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Wr(qr().mark((function e(t,n,r,i){var a,o,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,gE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(wS(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,gE(t.localStore,n,!0);case 3:return a=e.sent,o=new Xx(n,a._i),s=o.Wu(a.documents),u=ew.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,u),wS(t,r,l.Xu),c=new Jx(n,r,o),e.abrupt("return",(t.ia.set(n,c),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=Wr(qr().mark((function e(t,n){var r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ck(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Zb(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),JE(r.remoteStore,i.targetId),bS(r,i.targetId)})).catch(eE);case 9:e.next=14;break;case 11:return bS(r,i.targetId),e.next=14,yE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t,n){return uS.apply(this,arguments)}function uS(){return uS=Wr(qr().mark((function e(t,n,r){var i,a,o;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PS(t),e.prev=1,e.next=4,function(e,t){var n,r=ck(e),i=Ck.now(),a=t.reduce((function(e,t){return e.add(t.key)}),$_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=Kr(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=T_(l,n.get(l.key));null!=c&&s.push(new P_(l.key,c,db(c.value.mapValue),w_.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new bb(xk)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,SS(i,a.changes);case 9:return e.next=11,px(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Lx(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),uS.apply(this,arguments)}function lS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t),e.prev=1,e.next=4,fE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(lk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?lk(n.na):e.removedDocuments.size>0&&(lk(n.na),n.na=!1))})),e.next=8,SS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,eE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cS.apply(this,arguments)}function hS(e,t,n){var r=ck(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ck(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Kr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Gx(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fS(e,t,n){return dS.apply(this,arguments)}function dS(){return dS=Wr(qr().mark((function e(t,n,r){var i,a,o,s,u,l;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ck(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new bb(Yk.comparator)).insert(o,pb.newNoDocument(o,Tk.min())),u=$_().add(o),l=new Z_(Tk.min(),new Map,new Eb(xk),s,u),e.next=9,lS(i,l);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),xS(i),e.next=16;break;case 14:return e.next=16,yE(i.localStore,n,!1).then((function(){return bS(i,n,r)})).catch(eE);case 16:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=Wr(qr().mark((function e(t,n){var r,i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t),i=n.batch.batchId,e.prev=1,e.next=4,cE(r.localStore,n);case 4:return a=e.sent,kS(r,i,null),gS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,SS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,eE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vS.apply(this,arguments)}function yS(e,t,n){return mS.apply(this,arguments)}function mS(){return mS=Wr(qr().mark((function e(t,n,r){var i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ck(t),e.prev=1,e.next=4,function(e,t){var n=ck(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return lk(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kS(i,n,r),gS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,SS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,eE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mS.apply(this,arguments)}function gS(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function kS(e,t,n){var r=ck(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function bS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Kr(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||_S(e,t)}))}function _S(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(JE(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),xS(e))}function wS(e,t,n){var r,i=Kr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Yx?(e.ca.addReference(a.key,t),ES(e,a)):a instanceof $x?(ik("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||_S(e,a.key)):uk()}}catch(o){i.e(o)}finally{i.f()}}function ES(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(ik("SyncEngine","New document in limbo: "+n),e.oa.add(r),xS(e))}function xS(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Yk(Ak.fromString(t)),r=e.fa.next();e.aa.set(r,new Zx(n)),e.ua=e.ua.insert(n,r),XE(e.remoteStore,new Kw(Xb(Kb(n.path)),r,2,_k.A))}}function SS(e,t,n){return CS.apply(this,arguments)}function CS(){return CS=Wr(qr().mark((function e(t,n,r){var i,a,o,s;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ck(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=iE.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=Wr(qr().mark((function e(t,n){var r,i,a,o,s,u,l,c;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zw.forEach(n,(function(t){return zw.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zw.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Bw(e.t0)){e.next=10;break}throw e.t0;case 10:ik("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Kr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ui.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.ui=r.ui.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function TS(e,t){return IS.apply(this,arguments)}function IS(){return IS=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ck(t)).currentUser.isEqual(n)){e.next=11;break}return ik("SyncEngine","User change. New user:",n.toKey()),e.next=5,uE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new fk(hk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,SS(r,i.di);case 11:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function NS(e,t){var n=ck(e),r=n.aa.get(t);if(r&&r.na)return $_().add(r.key);var i=$_(),a=n.ra.get(t);if(!a)return i;var o,s=Kr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.ia.get(u);i=i.unionWith(l.view.ju)}}catch(c){s.e(c)}finally{s.f()}return i}function RS(e){var t=ck(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fS.bind(null,t),t.sa.zo=Wx.bind(null,t.eventManager),t.sa.wa=Kx.bind(null,t.eventManager),t}function PS(e){var t=ck(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yS.bind(null,t),t}var AS=function(){function e(){Ot(this,e),this.synchronizeTabs=!1}return Lt(e,[{key:"initialize",value:function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=UE(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return sE(this.persistence,new aE,e.initialUser,this.M)}},{key:"ya",value:function(e){return new IE(RE.Yi,this.M)}},{key:"ga",value:function(e){return new AE}},{key:"terminate",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OS=function(){function e(){Ot(this,e)}return Lt(e,[{key:"initialize",value:function(){var e=Wr(qr().mark((function e(t,n){var r=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return hS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TS.bind(null,this.syncEngine),e.next=12,Rx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Vx}},{key:"createDatastore",value:function(e){var t,n=UE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new FE(t));return function(e,t,n,r){return new HE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return hS(o.syncEngine,e,0)},a=DE.vt()?new DE:new OE,new KE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new eS(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Wr(qr().mark((function e(t){var n;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ck(t),ik("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,YE(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var DS=function(){function e(t){Ot(this,e),this.observer=t,this.muted=!1}return Lt(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LS=function(){function e(t,n,r,i){var a=this;Ot(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ek.UNAUTHENTICATED,this.clientId=Ek.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ik("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ik("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lt(e,[{key:"getConfiguration",value:function(){var e=Wr(qr().mark((function e(){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fk(hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new dk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Wr(qr().mark((function n(){var r;return qr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Lx(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ik("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e,t){return US.apply(this,arguments)}function US(){return US=Wr(qr().mark((function e(t,n){var r,i;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,VS(t);case 3:return r=e.sent,ik("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Ix(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Ix(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e){return zS.apply(this,arguments)}function zS(){return zS=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ik("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,MS(t,new AS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function BS(e){return qS.apply(this,arguments)}function qS(){return qS=Wr(qr().mark((function e(t){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ik("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,jS(t,new OS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function HS(e){return BS(e).then((function(e){return e.syncEngine}))}function WS(e){return KS.apply(this,arguments)}function KS(){return KS=Wr(qr().mark((function e(t){var n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tS.bind(null,n.syncEngine),r.onUnlisten=aS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function GS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new dk;return e.asyncQueue.enqueueAndForget(Wr(qr().mark((function i(){return qr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new DS({next:function(n){t.enqueueAndForget((function(){return qx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new fk(hk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qx(n,a,{includeMetadataChanges:!0,ku:!0});return zx(e,o)},i.next=3,WS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var QS=new Map;function YS(e,t,n){if(!n)throw new fk(hk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $S(e){if(!Yk.isDocumentKey(e))throw new fk(hk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function XS(e){if(Yk.isDocumentKey(e))throw new fk(hk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function JS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":uk()}function ZS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fk(hk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=JS(e);throw new fk(hk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var eC=function(){function e(t){var n;if(Ot(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fk(hk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fk(hk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new fk(hk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Lt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),tC=function(){function e(t,n,r){Ot(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eC({}),this._settingsFrozen=!1,t instanceof Wk?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fk(hk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wk(e.options.projectId)}(t))}return Lt(e,[{key:"app",get:function(){if(!this._app)throw new fk(hk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fk(hk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vk;switch(e.type){case"gapi":var t=e.client;return lk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new gk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new fk(hk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=QS.get(e);t&&(ik("ComponentProvider","Removing Datastore"),QS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var nC=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new iC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rC=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),iC=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,Kb(i)))._path=i,a.type="collection",a}return Lt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nC(this.firestore,null,new Yk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rC);function aC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),YS("collection","path",t),e instanceof tC){var a=Ak.fromString.apply(Ak,[t].concat(r));return XS(a),new iC(e,null,a)}if(!(e instanceof nC||e instanceof iC))throw new fk(hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ak.fromString.apply(Ak,[t].concat(r)));return XS(o),new iC(e.firestore,null,o)}var oC=function(){function e(){var t=this;Ot(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new VE(this,"async_queue_retry"),this.Qa=function(){var e=jE();e&&ik("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=jE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Lt(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=jE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new dk;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Wr(qr().mark((function e(){var t=this;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Bw(e.t0)){e.next=12;break}throw e.t0;case 12:ik("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ak("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Dx.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&uk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=Kr(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Kr(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();var sC=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new oC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Lt(n,[{key:"_terminate",value:function(){return this._firestoreClient||lC(this),this._firestoreClient.terminate()}}]),n}(tC);function uC(e){return e._firestoreClient||lC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Hk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new LS(e._authCredentials,e._appCheckCredentials,e._queue,r)}var cC=function(){function e(){Ot(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fk(hk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dk(n)}return Lt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var hC=function(){function e(t){Ot(this,e),this._byteString=t}return Lt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mk.fromBase64String(t))}catch(t){throw new fk(hk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mk.fromUint8Array(t))}}]),e}(),fC=Lt((function e(t){Ot(this,e),this._methodName=t})),dC=function(){function e(t,n){if(Ot(this,e),!isFinite(t)||t<-90||t>90)throw new fk(hk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fk(hk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xk(this._lat,e._lat)||xk(this._long,e._long)}}]),e}(),pC=/^__.*__$/,vC=function(){function e(t,n,r){Ot(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Lt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new P_(e,this.data,this.fieldMask,t,this.fieldTransforms):new R_(e,this.data,t,this.fieldTransforms)}}]),e}();function yC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw uk()}}var mC=function(){function e(t,n,r,i,a,o){Ot(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return NC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(yC(this.ec)&&pC.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),gC=function(){function e(t,n,r){Ot(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||UE(t)}return Lt(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mC({ec:e,methodName:t,hc:n,path:Dk.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function kC(e){var t=e._freezeSettings(),n=UE(e._databaseId);return new gC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);SC("Data must be an object, but it was:",o,r);var s,u,l=EC(r,o);if(a.merge)s=new Lk(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,h=[],f=Kr(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=CC(t,d,n);if(!o.contains(p))throw new fk(hk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));RC(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new Lk(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new vC(new fb(l),s,u)}function _C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wC(n,e.lc(r?4:3,t))}function wC(e,t){if(xC(e=Li(e)))return SC("Unsupported field value:",t,e),EC(e,t);if(e instanceof fC)return function(e,t){if(!yC(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Kr(e);try{for(a.s();!(n=a.n()).done;){var o=wC(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return u_(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ck.fromDate(e);return{timestampValue:hw(t.M,n)}}if(e instanceof Ck){var r=new Ck(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hw(t.M,r)}}if(e instanceof dC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hC)return{bytesValue:fw(t.M,e._byteString)};if(e instanceof nC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(JS(e)))}(e,t)}function EC(e,t){var n={};return Rk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nk(e,(function(e,r){var i=wC(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ck||e instanceof dC||e instanceof hC||e instanceof nC||e instanceof fC)}function SC(e,t,n){if(!xC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=JS(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function CC(e,t,n){if((t=Li(t))instanceof cC)return t._internalPath;if("string"==typeof t)return IC(e,t);throw NC("Field path arguments must be of type string or ",e,!1,void 0,n)}var TC=new RegExp("[~\\*/\\[\\]]");function IC(e,t,n){if(t.search(TC)>=0)throw NC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Gr(cC,At(t.split(".")))._internalPath}catch(r){throw NC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function NC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new fk(hk.INVALID_ARGUMENT,s+e+u)}function RC(e,t){return e.some((function(e){return e.isEqual(t)}))}var PC=function(){function e(t,n,r,i,a){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new AC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(OC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),AC=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){return xn(wn(n.prototype),"data",this).call(this)}}]),n}(PC);function OC(e,t){return"string"==typeof t?IC(e,t):t instanceof cC?t._internalPath:t._delegate._internalPath}var DC=function(){function e(t,n){Ot(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),LC=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Lt(n,[{key:"exists",value:function(){return xn(wn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(OC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(PC),MC=function(e){Sn(n,e);var t=Rn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xn(wn(n.prototype),"data",this).call(this,e)}}]),n}(LC),FC=function(){function e(t,n,r,i){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DC(i.hasPendingWrites,i.fromCache),this.query=r}return Lt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MC(n._firestore,n._userDataWriter,r.key,r,new DC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fk(hk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new MC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function jC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return uk()}}function UC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fk(hk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VC=Lt((function e(){Ot(this,e)}));var zC=function(e){Sn(n,e);var t=Rn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Lt(n,[{key:"_apply",value:function(e){var t=kC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new fk(hk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HC(o,a);var u,l=[],c=Kr(o);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.push(qC(r,e,h))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=qC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HC(o,a),s=_C(n,"where",o,"in"===a||"not-in"===a);var f=Rb.create(i,a,s);return function(e,t){if(t.S()){var n=Qb(e);if(null!==n&&!n.isEqual(t.field))throw new fk(hk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Gb(e);null!==r&&WC(e,t.field,r)}var i=function(e,t){var n,r=Kr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new fk(hk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fk(hk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new rC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Hb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(VC);function BC(e,t,n){var r=t,i=OC("where",e);return new zC(i,r,n)}function qC(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new fk(hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yb(t)&&-1!==n.indexOf("/"))throw new fk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ak.fromString(n));if(!Yk.isDocumentKey(r))throw new fk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ib(e,new Yk(r))}if(n instanceof nC)return ib(e,n._key);throw new fk(hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(JS(n),"."))}function HC(e,t){if(!Array.isArray(e)||0===e.length)throw new fk(hk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new fk(hk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function WC(e,t,n){if(!n.isEqual(t))throw new fk(hk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var KC=function(){function e(){Ot(this,e)}return Lt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw uk()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Nk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new dC(Uk(e.latitude),Uk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Bk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jk(e);return new Ck(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ak.fromString(e);lk(Mw(n));var r=new Wk(n.get(1),n.get(3)),i=new Yk(n.popFirst(5));return r.isEqual(t)||ak("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function GC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var QC=function(e){Sn(n,e);var t=Rn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new hC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nC(this.firestore,null,t)}}]),n}(KC);function YC(e){e=ZS(e,rC);var t=ZS(e.firestore,sC),n=uC(t),r=new QC(t);return UC(e._query),GS(n,e._query).then((function(n){return new FC(t,r,e,n)}))}function $C(e,t){var n=ZS(e.firestore,sC),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=Ek.R()),YS("doc","path",t),e instanceof tC){var a=Ak.fromString.apply(Ak,[t].concat(r));return $S(a),new nC(e,null,new Yk(a))}if(!(e instanceof nC||e instanceof iC))throw new fk(hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ak.fromString.apply(Ak,[t].concat(r)));return $S(o),new nC(e.firestore,e instanceof iC?e.converter:null,new Yk(o))}(e),i=GC(e.converter,t);return XC(n,[bC(kC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,w_.exists(!1))]).then((function(){return r}))}function XC(e,t){return function(e,t){var n=new dk;return e.asyncQueue.enqueueAndForget(Wr(qr().mark((function r(){return qr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=sS,r.next=3,HS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(uC(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];tk="9.8.2",_a(new Mi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new sC(i,new yk(e.getProvider("auth-internal")),new bk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ia(Zg,"3.4.9",e),Ia(Zg,"3.4.9","esm2017")}();var JC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ya,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw xa.create("bad-app-name",{appName:String(i)});var a=ga.get(i);if(a){if(Si(e,a.options)&&Si(r,a.config))return a;throw xa.create("duplicate-app",{appName:i})}var o,s=new zi(i),u=Kr(ka.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var c=new Sa(e,r,s);return ga.set(i,c),c}({apiKey:"AIzaSyC0mfcwsgMV3FoBkosKjcgzFfCCLKbL2Es",authDomain:"code-base-c170a.firebaseapp.com",projectId:"code-base-c170a",storageBucket:"code-base-c170a.appspot.com",messagingSenderId:"839403839548",appId:"1:839403839548:web:e6ef5aa5776290f427e339",measurementId:"G-V1FP3QPL97"}),ZC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta(),t=wa(e,"auth");return t.isInitialized()?t.getImmediate():oo(e,{popupRedirectResolver:Vl,persistence:[Mu,hu,du]})}(JC),eT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta(),t=arguments.length>1?arguments[1]:void 0;return wa(e,"database").getImmediate({identifier:t})}(JC),tT=new zs,nT=function(){var e=Wr(qr().mark((function e(){var t,n,r;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ju(ZC,tT);case 3:return t=e.sent,n=t.user,r=r(aC(eT,"users"),BC("uid","==",n.uid)),e.next=8,YC(r);case 8:0===e.sent.length&&$C(aC(eT,"users"),{uid:n.uid,Name:n.displayName,email:n.email}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),rT=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o(Jl(ZC),3),l=(u[0],u[1],u[2],F()),c=function(){var e=Wr(qr().mark((function e(t,n){return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(ZC,t,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,he.jsx)("div",{className:"bg-info vh-100",children:(0,he.jsx)("div",{className:"container",children:(0,he.jsxs)("div",{className:"row ",children:[(0,he.jsxs)("div",{className:"col-md-5 mt-5 pt-4 ",children:[(0,he.jsx)("h3",{className:"fst-italic fw-bold",children:"Student Login"}),(0,he.jsx)("span",{className:"text-secondary",children:"make sure your account is secure."}),(0,he.jsx)("img",{src:"./images/img5.svg",alt:"trollface",className:"img-fluid mt-5"})]}),(0,he.jsx)("div",{className:"col-md-6 mx-auto mt-5 pt-5 ",children:(0,he.jsxs)("div",{className:"card card-body b-effect ",children:[(0,he.jsxs)("h1",{className:"text-center my-2 fw-bold",children:[(0,he.jsx)("i",{className:"fas fa-user-plus"})," ",(0,he.jsx)("span",{className:"text-primary",children:"Sign"})," ",(0,he.jsx)("span",{className:"text-info",children:"In"})]}),(0,he.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(ZC,n,a),setTimeout((function(){l("/Dash1")}),2e3)},children:[(0,he.jsxs)("div",{className:"form-group mb-3",children:[(0,he.jsx)("label",{className:"mb-2 fw-bold",htmlFor:"email",children:"Email"}),(0,he.jsx)("input",{type:"email",className:"form-control border-0 bglight",id:"email",placeholder:"Enter email",value:n,onChange:function(e){return r(e.target.value)}})]}),(0,he.jsxs)("div",{className:"form-group mb-3",children:[(0,he.jsx)("label",{className:"mb-2 fw-bold",htmlFor:"password",children:"Password"}),(0,he.jsx)("input",{type:"password",className:"form-control border-0 bglight",id:"password",placeholder:"Enter password",value:a,onChange:function(e){return s(e.target.value)}})]}),(0,he.jsx)("button",{type:"submit",className:"btn btn-outline-success hm-button-ggle1 me-5 mt-3",children:"Log In"}),(0,he.jsxs)("button",{className:"btn btn-outline-primary hm-button-ggle mt-3",onClick:function(){nT(ZC,tT),setTimeout((function(){l("/Dash1")}),2e3)},children:[(0,he.jsx)(Up,{})," Log In With Google"]})]}),(0,he.jsx)("div",{className:"text-center mt-3 text-secondary",children:(0,he.jsxs)("p",{children:[" Don't have an account? ",(0,he.jsx)(Q,{className:"text-decoration-none",to:"/signup",children:"Register"})," now."]})})]})})]})})})},iT=function(){var e=o((0,t.useState)(""),2),n=e[0],r=e[1],i=o((0,t.useState)(""),2),a=i[0],s=i[1],u=o((0,t.useState)(""),2),l=u[0],c=u[1],h=o((0,t.useState)(!1),2),f=h[0],d=h[1],p=F(),v=function(){var e=Wr(qr().mark((function e(t,n,r){var i,a;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iu(ZC,n,r);case 3:return i=e.sent,a=i.user,alert("account created successfully"),"",n="",r="",e.next=11,$C(aC(eT,"users"),{uid:a.uid,name:"",authProvider:"local",email:n});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),alert("error creating account");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,he.jsx)("div",{className:"bg-info vh-100 ",children:(0,he.jsx)("div",{className:"container",children:(0,he.jsx)("div",{className:"row ",children:(0,he.jsx)("div",{className:"col-md-6 mx-auto my-5 ",children:(0,he.jsxs)("div",{className:"card card-body b-effect ",children:[(0,he.jsxs)("h1",{className:"text-center my-2 fw-bold",children:[(0,he.jsx)("i",{className:"fas fa-user-plus"})," ",(0,he.jsx)("span",{className:"text-primary",children:"Sign"})," ",(0,he.jsx)("span",{className:"text-info",children:"Up"})]}),(0,he.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0),v(n,a,l),d(!1),setTimeout((function(){p("/")}),2e3)},children:[(0,he.jsxs)("div",{className:"form-group mb-3",children:[(0,he.jsx)("label",{className:"mb-2 fw-bold",htmlFor:"Name",children:"Name"}),(0,he.jsx)("input",{type:"text",id:"Name",className:"form-control bglight border-0",placeholder:"Enter your name",value:n,onChange:function(e){return r(e.target.value)}})]}),(0,he.jsxs)("div",{className:"form-group mb-3",children:[(0,he.jsx)("label",{className:"mb-2 fw-bold",htmlFor:"email",children:"Email"}),(0,he.jsx)("input",{type:"email",id:"email",className:"form-control bglight border-0",placeholder:"Enter your email",value:a,onChange:function(e){return s(e.target.value)}})]}),(0,he.jsxs)("div",{className:"form-group mb-3",children:[(0,he.jsx)("label",{className:"mb-2 fw-bold",htmlFor:"password",children:"Password"}),(0,he.jsx)("input",{type:"password",id:"password",className:"form-control bglight border-0",placeholder:"Enter your password",value:l,onChange:function(e){return c(e.target.value)}})]}),(0,he.jsx)("button",{className:"btn btn-outline-success hm-button mt-2",disabled:f,children:f?"Loading...":"Sign Up"})]}),(0,he.jsxs)("p",{className:"lead mt-4 text-secondary",children:["Have an account? ",(0,he.jsx)(Q,{className:"text-decoration-none",to:"/Login",children:"Signin"})]})]})})})})})};function aT(e){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}function oT(e){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"}}]})(e)}function sT(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.8 438.3c-7.2-31.8-48.3-47.3-62.5-52.3-15.6-5.5-37.8-6.8-52.1-10-8.2-1.8-20.1-6.3-24.1-11.1s-1.6-49.3-1.6-49.3 7.4-11.5 11.4-21.7c4-10.1 8.4-37.9 8.4-37.9s8.2 0 11.1-14.4c3.1-15.7 8-21.8 7.4-33.5-.6-11.5-6.9-11.2-6.9-11.2s6.1-16.7 6.8-51.3c.9-41.1-31.3-81.6-89.6-81.6-59.1 0-90.6 40.5-89.7 81.6.8 34.6 6.7 51.3 6.7 51.3s-6.3-.3-6.9 11.2c-.6 11.7 4.3 17.8 7.4 33.5 2.8 14.4 11.1 14.4 11.1 14.4s4.4 27.8 8.4 37.9c4 10.2 11.4 21.7 11.4 21.7s2.4 44.5-1.6 49.3c-4 4.8-15.9 9.3-24.1 11.1-14.3 3.2-36.5 4.5-52.1 10-14.2 5-55.3 20.5-62.5 52.3-1.1 5 2.7 9.7 7.9 9.7H440c5.1 0 8.9-4.7 7.8-9.7z"}}]})(e)}var uT=[{title:"Dashboard",path:"/Dash1",icon:(0,he.jsx)(Vr,{}),cName:"nav-text"},{title:"Courses",path:"/CoursesPage",icon:(0,he.jsx)(Ur,{}),cName:"nav-text"},{title:"Profile",path:"/Dash",icon:(0,he.jsx)(sT,{}),cName:"nav-text"},{title:"Logout",path:"/",icon:(0,he.jsx)(oT,{}),cName:"nav-text"}];var lT=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1],i=function(){return r(!n)};return(0,he.jsx)("div",{className:"bg-info",children:(0,he.jsxs)(Rr.Provider,{value:{color:"#fff",size:"1.5em"},children:[(0,he.jsx)("div",{className:"navbar",children:(0,he.jsx)(Q,{to:"#",className:"menu-bars",children:(0,he.jsx)(jr,{onClick:i})})}),(0,he.jsx)("nav",{className:n?"nav-menu active":"nav-menu",children:(0,he.jsxs)("ul",{className:"nav-menu-items d-grid justify-content-start",onClick:i,children:[(0,he.jsx)("li",{className:"navbar-toggle",children:(0,he.jsx)(Q,{to:"#",className:"menu-bars",children:(0,he.jsx)(aT,{})})}),uT.map((function(e,t){return(0,he.jsx)("li",{className:e.cName,children:(0,he.jsxs)(Q,{to:e.path,children:[e.icon,(0,he.jsx)("span",{children:e.title})]})},t)}))]})})]})})};var cT=function(){var e=o(Jl(ZC),3),n=e[0],r=(e[1],e[2],o((0,t.useState)(""),2)),i=(r[0],r[1],F(),function(){var e=Wr(qr().mark((function e(){var t;return qr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t(aC(eT,"users"),BC("uid","==",n.uid)),e.next=3,YC(t);case 3:0===e.sent.length&&$C(aC(eT,"users"),{uid:n.uid,name:n.displayName,authProvider:"local",email:n.email});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,t.useEffect)((function(){i()}),[n]),(0,he.jsxs)("div",{className:"dashboard bg-info vh-100",children:[(0,he.jsx)(lT,{}),(0,he.jsxs)("div",{className:"container border log",children:[(0,he.jsxs)("h1",{className:"text-center my-4 fw-bold",children:[(0,he.jsx)("span",{className:"text-primary",children:"logged"})," in",(0,he.jsx)("span",{className:"text-success",children:"as"})," "]}),(0,he.jsx)("h1",{className:"mb-3 fst-italic",children:n.displayName}),(0,he.jsx)("p",{className:"mb-5",children:n.email})]})]})},hT=function(e){var t=e.data;return(0,he.jsxs)("div",{className:"row bg-info",children:[(0,he.jsx)(lT,{}),(0,he.jsx)("h1",{className:" fw-bold fst-italic display-3",children:"Courses"}),(0,he.jsx)("div",{className:"container row col-md-8 mb-5",children:t.map((function(e){return(0,he.jsx)("div",{className:"col-md-6",children:(0,he.jsx)("div",{className:"card card1 bg-light",children:(0,he.jsx)("div",{className:"card-body",children:(0,he.jsx)(Q,{className:"text-decoration-none",to:"/course/".concat(e.id),children:(0,he.jsx)("h5",{className:"card-title pt-4 text-primary fs-2 ",children:e.name})})})})},e.id)}))})]})},fT=function(){return(0,he.jsxs)("div",{className:"bg-info vh-100",children:[(0,he.jsx)(lT,{}),(0,he.jsxs)("div",{className:"container row",children:[(0,he.jsx)("div",{className:"col-md-4 welcome1",children:(0,he.jsx)("h2",{className:"welcome fst-italic fw-bold ",children:"Welcome David"})}),(0,he.jsx)("div",{className:"col-md-4",children:(0,he.jsx)("img",{src:"./images/img3.svg",alt:"profile",width:"500px",height:"500px"})})]})]})},dT=[{id:1,name:"chemistry",details:{intro:"Chemistry is a physical science, and it is the study of the properties of and interactions between matter and energy. In other words, chemistry is a way to study the properties, characteristics, and physical and chemical changes of matter.",branches:["Biochemistry","Analytical chemistry","Physical Chemistry"]}},{id:2,name:"Physics",details:{intro:"Physics is a science. Science works according to the scientific method. The scientific method accepts only reason, logic, and experimental evidence to tell between what is scientifically correct and what is not. Scientists do not simply believe \u2013 they test, and keep testing until satisfied. Just because some \u201cbig scientist\u201d says something is right, that thing does not become a fact of science.",branches:["Classical Physics.","Modern Physics.","Nuclear Physics.","Atomic Physics.","Geophysics.","Biophysics.","Mechanics.","Acoustics."]}},{id:3,name:"Mathematics",details:{intro:"Mathematics is  not  only  concerned with everyday problems, but  also  with  using  imagination,  intuition  and  reasoning  to find new ideas  and  to  solve puzzling problems.",branches:["Algebra.","Geometry.","Trigonometry.","Calculus.","Statistics and Probability."]}},{id:4,name:"Biology",details:{intro:"The word biology means, the science of life, from the Greek bios, life, and logos, word or knowledge. Therefore, Biology is the science of Living Things. That is why Biology is sometimes known as Life Science.",branches:["Anatomy.","Botany.","Taxonomy.","Zoology.","Microbiology.","Mycology.","Phycology.","Parasitology."]}},{id:5,name:"English Language",details:{intro:"English studies (usually called simply English) is an academic discipline taught in primary, secondary, and post-secondary education in English-speaking countries; it is not to be confused with English taught as a foreign language, which is a distinct discipline. It involves the study and exploration of texts created in English literature.",branches:["English linguistics.","English sociolinguistics.","Discourse analysis in English.","English Stylistics (linguistics)","World Englishes.","History of the English language.","Composition studies.","Rhetoric."]}}],pT=function(e){var n=e.data,r=function(){var e=(0,t.useContext)(k).matches,n=e[e.length-1];return n?n.params:{}}().id,i=r-1;return console.log(r),(0,he.jsx)("div",{className:"row bg-info vh-100",children:(0,he.jsxs)(Rr.Provider,{value:{color:"#fff",size:"3em"},children:[(0,he.jsx)(Q,{className:"d-flex justify-content-start ms-5 mt-3",to:"/CoursesPage",children:(0,he.jsx)(Fr,{})}),(0,he.jsx)("h1",{className:" fw-bold fst-italic display-3",children:n[i].name}),(0,he.jsx)("p",{className:"lead w-50 m-auto",children:n[i].details.intro}),(0,he.jsx)("ol",{className:"list-group list-group-numbered list-group-horizontal",children:dT[i].details.branches.map((function(e,t){return(0,he.jsx)("li",{className:"list-group-item list1 bg-transparent border-0 text-dark",children:e},t)}))})]})})};var vT=function(){return(0,he.jsx)("div",{className:"App",children:(0,he.jsxs)(B,{children:[(0,he.jsx)(V,{exact:!0,path:"/",element:(0,he.jsx)(Br,{})}),(0,he.jsx)(V,{exact:!0,path:"/login",element:(0,he.jsx)(rT,{})}),(0,he.jsx)(V,{exact:!0,path:"/signup",element:(0,he.jsx)(iT,{})}),(0,he.jsx)(V,{exact:!0,path:"/Dash1",element:(0,he.jsx)(fT,{})}),(0,he.jsx)(V,{exact:!0,path:"/Dashboard",element:(0,he.jsx)(lT,{})}),(0,he.jsx)(V,{exact:!0,path:"/Dash",element:(0,he.jsx)(cT,{})}),(0,he.jsx)(V,{exact:!0,path:"/CoursesPage",element:(0,he.jsx)(hT,{data:dT})}),(0,he.jsx)(V,{exact:!0,path:"/course/:id",element:(0,he.jsx)(pT,{data:dT})})]})})},yT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,he.jsx)(G,{children:(0,he.jsx)(t.StrictMode,{children:(0,he.jsx)(vT,{})})})),yT()}()}();
//# sourceMappingURL=main.c9b85912.js.map